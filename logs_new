Push event to branch feature-PBBEF-1571
17:16:48 Connecting to https://git.express-scripts.com/api/v3 using This is the enterprise Health Services GitHub credentials for Jenkins
Obtained Jenkinsfile from d922f5b418481a9d4e821ed925ae2bf8e24db872
[Pipeline] Start of Pipeline
[Pipeline] library
Loading library epf@main
Examining cigna/enterprise-pipeline-framework
Attempting to resolve main as a branch
Resolved main as branch main at revision cc00e5e39af0f41f3925026a52fe0edfb8ea412e
The recommended git tool is: NONE
No credentials specified
 > git rev-parse --resolve-git-dir /var/jenkins_home/jobs/orchestrators-folders/jobs/pbbef/jobs/Non-Production/jobs/TERRAFORMS/jobs/aws-terraform-hs-bef-intentapi/branches/feature-PBBEF-1571/workspace@libs/3c1ad5b67ee798f247d765c15302ae0bdd27719722cb644afcd8575eac3ef99a/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.sys.cigna.com/cigna/enterprise-pipeline-framework.git # timeout=10
Pruning obsolete local branches
Pruning obsolete local tags that do not exist on remotes
 > git show-ref --tags -d # timeout=10
 > git --version # timeout=10
 > git --version # 'git version 2.43.5'
 > git ls-remote -t -- https://github.sys.cigna.com/cigna/enterprise-pipeline-framework.git # timeout=10
Using shallow fetch with depth 1
Fetching upstream changes from https://github.sys.cigna.com/cigna/enterprise-pipeline-framework.git
 > git fetch --tags --force --progress --prune --depth=1 -- https://github.sys.cigna.com/cigna/enterprise-pipeline-framework.git +refs/heads/main:refs/remotes/origin/main # timeout=10
Checking out Revision cc00e5e39af0f41f3925026a52fe0edfb8ea412e (main)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f cc00e5e39af0f41f3925026a52fe0edfb8ea412e # timeout=10
Commit message: "Merge pull request #422 from cigna/update-java-2176"
 > git rev-list --no-walk cc00e5e39af0f41f3925026a52fe0edfb8ea412e # timeout=10
[Pipeline] sendSplunkConsoleLog
[Pipeline] {
[Pipeline] libraryResource
[Pipeline] echo
 .----------------. .----------------. .----------------. .----------------. .----------------. .----------------. .----------------.
| .--------------. | .--------------. | .--------------. | .--------------. | .--------------. | .--------------. | .--------------. |
| |              | | |              | | |  _________   | | |   ______     | | |  _________   | | |              | | |              | |
| |              | | |              | | | |_   ___  |  | | |  |_   __ \   | | | |_   ___  |  | | |              | | |              | |
| |    ______    | | |    ______    | | |   | |_  \_|  | | |    | |__) |  | | |   | |_  \_|  | | |    ______    | | |    ______    | |
| |   |______|   | | |   |______|   | | |   |  _|  _   | | |    |  ___/   | | |   |  _|      | | |   |______|   | | |   |______|   | |
| |              | | |              | | |  _| |___/ |  | | |   _| |_      | | |  _| |_       | | |              | | |              | |
| |              | | |              | | | |_________|  | | |  |_____|     | | | |_____|      | | |              | | |              | |
| |              | | |              | | |              | | |              | | |              | | |              | | |              | |
| '--------------' | '--------------' | '--------------' | '--------------' | '--------------' | '--------------' | '--------------' |
 '----------------' '----------------' '----------------' '----------------' '----------------' '----------------' '----------------'

******************************************************************************************************************************************
*                                                        *** COMPLIANCE NOTICE ***                                                       *
*  Users to specify a Goals file if needed to check their current compliance posture. If not specified the pipeline will create a goals  *
*  file automatically and add the Pipeline goal. This change will allow for the removal of Production deployment phases if a pipelines   *
*  compliance posture is invalid. For more information on how to modify your pipeline to allow production deployments, please visit:     *
*                                   https://github.sys.cigna.com/cigna/adjudicator/wiki/How-to-Use                                       *
*                                                                                                                                        *
*                                                         *** VERSION NOTICE ***                                                         *
*  The EPF team supports the past three major and minor released versions of the shared pipeline. If teams are using an unsupported      *
*  version it is the teams responsibility to resolve issues. For available supported versions please see:                                *                                                                                                                            *
*                                    https://github.sys.cigna.com/cigna/enterprise-pipeline-framework/tags                               *
*                                                                                                                                        *
******************************************************************************************************************************************
[Pipeline] echo
Feature Flags: showStackTraces=false, nonProdComplianceChecks=true, debug=false, verbose=false, legacyCheckout=false, injectCheckpoints=false, podAutotuning=[enabled:false, dryRun:true]
[Pipeline] echo
Follow the below link to see resource metrics for this pipeline:
https://o-grafana.apps.devops-1-prod.openshift.cignacloud.com/d/xnyVI_3Mk/namespace-container-metrics?orgId=1&refresh=10s&from=1739294207902&to=1739294215672&var-namespace=pbbef-openshift-devops1 
[Pipeline] echo
Using GitHubSCM provider for name: EPF, state: pending, phase: Status Check, as: null
[Pipeline] timestamps
[Pipeline] {
[Pipeline] properties
[Pipeline] parallel
[Pipeline] { (Branch: sendEmail)
[Pipeline] { (Branch: sendMattermost)
[Pipeline] { (Branch: sendTeams)
[Pipeline] { (Branch: sendWebex)
[Pipeline] }
[Pipeline] }
[Pipeline] }
[Pipeline] }
[Pipeline] // parallel
[Pipeline] echo
12:16:55  Pipeline Started
[Pipeline] echo
12:16:55  {"scm":{"repo":null,"gitCommit":null},"orchestrator":{"jobName":"orchestrators-folders/pbbef/Non-Production/TERRAFORMS/aws-terraform-hs-bef-intentapi/feature-PBBEF-1571","buildNumber":"8","branchName":"feature-PBBEF-1571","node":null,"timeInPipeline":"7.8 sec and counting"},"epf":{"stage":"Pipeline Started","message":"Pipeline Started","userProvidedConfig":{"githubConnectionName":"github","githubCredentialsId":"GIT_TOKEN","commitStatusName":"","cloudName":"pbbef-openshift-devops1","adjudicatorEnvironment":"prod"}}}
[Pipeline] withCredentials
12:16:55  Masking supported pattern matches of $EPF_GITHUB_ACCESS_TOKEN
[Pipeline] {
[Pipeline] echo
12:16:55  Assessing changed files...
[Pipeline] httpRequest
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] echo
12:16:55  Changed files: [envs/dev-candidate/dev-candidate.tfvars]
[Pipeline] echo
12:16:56  checkoutConfiguration.repo.shallow: false
[Pipeline] echo
12:16:56  moduleToRun is obtained from default modules for 'common:cnp-preflight-check-git-settings:null'
[Pipeline] echo
12:16:56  ========== MODULE INFO ==========
12:16:56  Name: cnp-preflight-check-git-settings
12:16:56  Contract: PREFLIGHT_CHECK
12:16:56  Command: cnp-preflight-check-git-settings.sh
12:16:56  Subcommand: 
12:16:56  Docker Image: registry-dev.cigna.com/cnp/cnp-docker-core:1.1.7
12:16:56  Required Credentials:[{"type":"string", "id":"GIT_TOKEN"}]
12:16:56  =======================================
[Pipeline] echo
12:16:56  Accumulating pod template requirements for Module(common: PREFLIGHT_CHECK dev) : registry-dev.cigna.com/cnp/cnp-docker-core:1.1.7(cnp-docker-corev117)
[Pipeline] echo
12:16:56  moduleToRun is obtained from default modules for 'quality:cnp-quality-profile-checkmarx:scan'
[Pipeline] echo
12:16:56  ========== MODULE INFO ==========
12:16:56  Name: cnp-quality-profile-checkmarx
12:16:56  Contract: SECURITY_SCAN
12:16:56  Command: cnp-quality-profile-checkmarx.sh
12:16:56  Subcommand: scan
12:16:56  Docker Image: registry-dev.cigna.com/cnp/cnp-docker-maven-java8:1.2.8
12:16:56  Required Credentials:[{"type":"usernamePassword", "id":"bef_checkmarx", "prefix":"CX"}]
12:16:56  =======================================
[Pipeline] echo
12:16:56  Accumulating pod template requirements for Module(quality: scan dev) : registry-dev.cigna.com/cnp/cnp-docker-maven-java8:1.2.8(cnp-docker-maven-java8v128)
[Pipeline] echo
12:16:56  Accumulating pod template requirements for Linting([approvalrequest]) : :(jnlp)
[Pipeline] echo
12:16:56  moduleToRun is obtained by parsing [moduleType:terraform, branchPattern:^(develop|release|hotfix|feature).*, module:[contractName:Plan Dev Candidate, commandName:cnp-deploy-terraform-aws.sh, subCommand:plan, image:registry-dev.cigna.com/cnp/cnp-docker-terraform:1.0.0-dev-ov2, moduleName:cnp-deploy-terraform-aws, sdlcEnvironment:dev-candidate], args:[credentials:[[id:DAWS-HS-UPSILONFRIES, env:dev, type:string]], configDir:envs/dev-candidate, env:dev, awsAccountId:364685145795, awsUsername:DAWS-HS-UPSILONFRIES, awsRoleName:DEPLOYER, tfVersion:1.4.6, tfDir:], container:[memory:2000], phaseCache:false, stashIncludePattern:, stashExcludePattern:, resourceStrategy:, resourceScaleFactor:4, cloudName:pbbef-openshift-devops1, checkmarxEnabled:true, sonarEnabled:true, phaseInstance:com.cigna.modules.Module@783f5a8e, phaseLabel:Phase 3, isStashEnabled:true, sdlcEnvironment:Undefined]
[Pipeline] echo
12:16:56  ========== MODULE INFO ==========
12:16:56  Name: cnp-deploy-terraform-aws
12:16:56  Contract: Plan Dev Candidate
12:16:56  Command: cnp-deploy-terraform-aws.sh
12:16:56  Subcommand: plan
12:16:56  Docker Image: registry-dev.cigna.com/cnp/cnp-docker-terraform:1.0.0-dev-ov2
12:16:56  Required Credentials:[{"type":"string", "id":"DAWS-HS-UPSILONFRIES", "env":"dev"}]
12:16:56  =======================================
[Pipeline] echo
12:16:56  Accumulating pod template requirements for Module(terraform: plan) : registry-dev.cigna.com/cnp/cnp-docker-terraform:1.0.0-dev-ov2(cnp-docker-terraformv100-dev-ov2)
[Pipeline] echo
12:16:56  Pipeline starting with 4 phases, running in 1 cloud
[Pipeline] echo
12:16:56  ================================================== EXECUTION PLAN ==================================================
12:16:56  Processing pod groups in this order: [pbbef-openshift-devops1]
12:16:56      PHASE GROUP 0: pbbef-openshift-devops1 # PHASES 4
12:16:56        PHASE 0 [Module(common: PREFLIGHT_CHECK dev)](pbbef-openshift-devops1):
12:16:56          -> container jnlp, cpu: 500m, memory: 600Mi
12:16:56          -> container cnp-docker-corev117, cpu: 500m, memory: 1000Mi
12:16:56        PHASE 1 [Module(quality: scan dev)](pbbef-openshift-devops1):
12:16:56          -> container jnlp, cpu: 500m, memory: 600Mi
12:16:56          -> container cnp-docker-maven-java8v128, cpu: 500m, memory: 1000Mi
12:16:56        PHASE 2 [Linting([approvalrequest])](pbbef-openshift-devops1):
12:16:56          -> container jnlp, cpu: 500m, memory: 600Mi
12:16:56        PHASE 3 [Module(terraform: plan)](pbbef-openshift-devops1):
12:16:56          -> container jnlp, cpu: 500m, memory: 600Mi
12:16:56          -> container cnp-docker-terraformv100-dev-ov2, cpu: 500m, memory: 2000Mi
12:16:56  ====================================================================================================================
[Pipeline] echo
12:16:56  Creating base pod 'epf-orchestrators-folders-aws-terraform-hs-bef-inten-14b53' for pod group 'pbbef-openshift-devops1' on cloud 'pbbef-openshift-devops1'
[Pipeline] ansiColor
[Pipeline] {
12:16:56  
[Pipeline] echo
12:16:56  
12:16:56  		******************************************************
12:16:56  		               Pod's Resource Utilization
12:16:56  
12:16:56  		     Total CPU Request:		876m (millicores)
12:16:56  		     Total CPU Limit:		2100m (millicores)
12:16:56  		     Total Memory Request:	1601Mi (Mebibytes)
12:16:56  		     Total Memory Limit:	4850Mi (Mebibytes)
12:16:56  
12:16:56  		******************************************************
12:16:56          
[Pipeline] }
12:16:56  
[Pipeline] // ansiColor
[Pipeline] podTemplate
[Pipeline] {
[Pipeline] node
12:16:58  Created Pod: pbbef-openshift-devops1 pbbef-openshift-devops1/epf-orchestrators-folders-aws-terraform-hs-bef-inten-14b5-d9cpb
12:17:11  Still waiting to schedule task
12:17:11  Waiting for next available executor on ‘epf-orchestrators-folders-aws-terraform-hs-bef-inten-14b5-d9cpb’
12:17:16  Agent epf-orchestrators-folders-aws-terraform-hs-bef-inten-14b5-d9cpb is provisioned from template epf-orchestrators-folders-aws-terraform-hs-bef-inten-14b53-711gs
12:17:16  ---
12:17:16  apiVersion: "v1"
12:17:16  kind: "Pod"
12:17:16  metadata:
12:17:16    annotations:
12:17:16      epf_branch: "feature-PBBEF-1571"
12:17:16      kubernetes.jenkins.io/last-refresh: "1739294217895"
12:17:16      buildUrl: "https://orchestrator24.orchestrator-v2.sys.cigna.com/job/orchestrators-folders/job/pbbef/job/Non-Production/job/TERRAFORMS/job/aws-terraform-hs-bef-intentapi/job/feature-PBBEF-1571/8/"
12:17:16      runUrl: "job/orchestrators-folders/job/pbbef/job/Non-Production/job/TERRAFORMS/job/aws-terraform-hs-bef-intentapi/job/feature-PBBEF-1571/8/"
12:17:16    labels:
12:17:16      kind: "jenkins"
12:17:16      source: "epf"
12:17:16      epf_pod_group: "aws-terraform-hs-bef-intentapi.pbbef-openshift-devops1"
12:17:16      jenkins: "slave"
12:17:16      jenkins/label-digest: "782861c9626d654829b3f5cac71596e33d6c6a0c"
12:17:16      jenkins/label: "pf-orchestrators-folders-aws-terraform-hs-bef-inten-14b53"
12:17:16      kubernetes.jenkins.io/controller: "https___orchestrator24_orchestrator-v2_sys_cigna_comx"
12:17:16      cloudbees.com/master: "orchestrator24"
12:17:16    name: "epf-orchestrators-folders-aws-terraform-hs-bef-inten-14b5-d9cpb"
12:17:16    namespace: "pbbef-openshift-devops1"
12:17:16  spec:
12:17:16    affinity:
12:17:16      podAntiAffinity:
12:17:16        preferredDuringSchedulingIgnoredDuringExecution:
12:17:16        - podAffinityTerm:
12:17:16            labelSelector:
12:17:16              matchExpressions:
12:17:16              - key: "com.cloudbees.cje.type"
12:17:16                operator: "In"
12:17:16                values:
12:17:16                - "master"
12:17:16                - "cjoc"
12:17:16            topologyKey: "kubernetes.io/hostname"
12:17:16          weight: 1
12:17:16    containers:
12:17:16    - command:
12:17:16      - "/bin/sh"
12:17:16      - "-c"
12:17:16      - "umask 0000; jenkins-agent"
12:17:16      env:
12:17:16      - name: "JENKINS_SECRET"
12:17:16        value: "********"
12:17:16      - name: "JENKINS_AGENT_NAME"
12:17:16        value: "epf-orchestrators-folders-aws-terraform-hs-bef-inten-14b5-d9cpb"
12:17:16      - name: "JENKINS_WEB_SOCKET"
12:17:16        value: "true"
12:17:16      - name: "REMOTING_OPTS"
12:17:16        value: "-noReconnectAfter 1d"
12:17:16      - name: "JENKINS_NAME"
12:17:16        value: "epf-orchestrators-folders-aws-terraform-hs-bef-inten-14b5-d9cpb"
12:17:16      - name: "JENKINS_AGENT_WORKDIR"
12:17:16        value: "/home/jenkins/agent -internalDir remoting-0cdcc8"
12:17:16      - name: "JENKINS_URL"
12:17:16        value: "https://orchestrator24.orchestrator-v2.sys.cigna.com/"
12:17:16      image: "registry.cigna.com/enterprise-devops/conduit-jnlp:cloudbees-2.462.1.3"
12:17:16      imagePullPolicy: "Always"
12:17:16      name: "jnlp"
12:17:16      resources:
12:17:16        limits:
12:17:16          cpu: "500m"
12:17:16          memory: "600Mi"
12:17:16        requests:
12:17:16          cpu: "500m"
12:17:16          memory: "600Mi"
12:17:16      tty: true
12:17:16      volumeMounts:
12:17:16      - mountPath: "/home/jenkins/agent/sonar"
12:17:16        name: "sonar-workspace"
12:17:16      - mountPath: "/home/jenkins/agent/setup-sonar"
12:17:16        name: "setup-sonar"
12:17:16      - mountPath: "/home/jenkins/agent"
12:17:16        name: "workspace-volume"
12:17:16        readOnly: false
12:17:16      workingDir: "/home/jenkins/agent"
12:17:16    - command:
12:17:16      - "sh"
12:17:16      - "-c"
12:17:16      - "trap \"exit\" TERM; while [ 1 ]; do sleep 60 & wait $!; done;"
12:17:16      image: "registry-dev.cigna.com/cnp/cnp-docker-core:1.1.7"
12:17:16      imagePullPolicy: "Always"
12:17:16      name: "cnp-docker-corev117"
12:17:16      resources:
12:17:16        limits:
12:17:16          cpu: "500m"
12:17:16          memory: "1000Mi"
12:17:16        requests:
12:17:16          cpu: "125m"
12:17:16          memory: "250Mi"
12:17:16      tty: true
12:17:16      volumeMounts:
12:17:16      - mountPath: "/home/jenkins/agent"
12:17:16        name: "workspace-volume"
12:17:16        readOnly: false
12:17:16      workingDir: "/home/jenkins/agent"
12:17:16    - command:
12:17:16      - "sh"
12:17:16      - "-c"
12:17:16      - "trap \"exit\" TERM; while [ 1 ]; do sleep 60 & wait $!; done;"
12:17:16      image: "registry-dev.cigna.com/cnp/cnp-docker-maven-java8:1.2.8"
12:17:16      imagePullPolicy: "Always"
12:17:16      name: "cnp-docker-maven-java8v128"
12:17:16      resources:
12:17:16        limits:
12:17:16          cpu: "500m"
12:17:16          memory: "1000Mi"
12:17:16        requests:
12:17:16          cpu: "125m"
12:17:16          memory: "250Mi"
12:17:16      tty: true
12:17:16      volumeMounts:
12:17:16      - mountPath: "/home/jenkins/agent"
12:17:16        name: "workspace-volume"
12:17:16        readOnly: false
12:17:16      workingDir: "/home/jenkins/agent"
12:17:16    - command:
12:17:16      - "sh"
12:17:16      - "-c"
12:17:16      - "trap \"exit\" TERM; while [ 1 ]; do sleep 60 & wait $!; done;"
12:17:16      image: "registry-dev.cigna.com/cnp/cnp-docker-terraform:1.0.0-dev-ov2"
12:17:16      imagePullPolicy: "Always"
12:17:16      name: "cnp-docker-terraformv100-dev-ov2"
12:17:16      resources:
12:17:16        limits:
12:17:16          cpu: "500m"
12:17:16          memory: "2000Mi"
12:17:16        requests:
12:17:16          cpu: "125m"
12:17:16          memory: "500Mi"
12:17:16      tty: true
12:17:16      volumeMounts:
12:17:16      - mountPath: "/home/jenkins/agent"
12:17:16        name: "workspace-volume"
12:17:16        readOnly: false
12:17:16      workingDir: "/home/jenkins/agent"
12:17:16    - command:
12:17:16      - "sh"
12:17:16      - "-c"
12:17:16      - "trap \"exit\" TERM; while [ 1 ]; do sleep 60 & wait $!; done;"
12:17:16      image: "registry.cigna.com/enterprise-devops/epf-curl:latest"
12:17:16      imagePullPolicy: "Always"
12:17:16      name: "epf-curlvlatest"
12:17:16      resources:
12:17:16        limits:
12:17:16          cpu: "100m"
12:17:16          memory: "250Mi"
12:17:16        requests:
12:17:16          cpu: "1m"
12:17:16          memory: "1Mi"
12:17:16      tty: true
12:17:16      volumeMounts:
12:17:16      - mountPath: "/home/jenkins/agent"
12:17:16        name: "workspace-volume"
12:17:16        readOnly: false
12:17:16      workingDir: "/home/jenkins/agent"
12:17:16    enableServiceLinks: false
12:17:16    nodeSelector:
12:17:16      beta.kubernetes.io/os: "linux"
12:17:16    restartPolicy: "Never"
12:17:16    securityContext: {}
12:17:16    serviceAccountName: ""
12:17:16    volumes:
12:17:16    - emptyDir:
12:17:16        medium: ""
12:17:16      name: "ecr-creds"
12:17:16    - emptyDir:
12:17:16        medium: ""
12:17:16      name: "sonar-workspace"
12:17:16    - emptyDir:
12:17:16        medium: "Memory"
12:17:16      name: "workspace-volume"
12:17:16    - emptyDir:
12:17:16        medium: ""
12:17:16      name: "aws-creds"
12:17:16    - emptyDir:
12:17:16        medium: ""
12:17:16      name: "setup-sonar"
12:17:16  
12:17:17  Running on epf-orchestrators-folders-aws-terraform-hs-bef-inten-14b5-d9cpb in /home/jenkins/agent/workspace/bef-intentapi_feature-PBBEF-1571
[Pipeline] {
[Pipeline] dir
12:17:17  Running in /home/jenkins/agent/workspace/bef-intentapi_feature-PBBEF-1571
[Pipeline] {
[Pipeline] stage
[Pipeline] { (SCM Checkout)
[Pipeline] container
[Pipeline] {
[Pipeline] fileExists
[Pipeline] dir
12:17:17  Running in /home/jenkins/agent/workspace/bef-intentapi_feature-PBBEF-1571
[Pipeline] {
[Pipeline] echo
12:17:17  Branch going to checkout: [feature-PBBEF-1571] : [[$class:CloneOption, shallow:false, noTags:true], GitSCMSourceDefaults{includeTags=false}, hudson.plugins.git.extensions.impl.BuildChooserSetting@71b8eb3a]
[Pipeline] checkout
12:17:17  The recommended git tool is: NONE
12:17:25  using credential SVPDEVOP-CIG-CLONEB_UserPw
12:17:25  Warning: JENKINS-30600: special launcher org.csanchez.jenkins.plugins.kubernetes.pipeline.ContainerExecDecorator$1@44ad9018; decorates RemoteLauncher[hudson.remoting.Channel@3e074b93:epf-orchestrators-folders-aws-terraform-hs-bef-inten-14b5-d9cpb] will be ignored (a typical symptom is the Git executable not being run inside a designated container)
12:17:25  Cloning the remote Git repository
12:17:25  Avoid fetching tags
12:17:25  Cloning with configured refspecs honoured and without tags
12:17:31  Cloning repository https://git.express-scripts.com/ExpressScripts/aws-terraform-hs-bef-intentapi.git
12:17:32   > git init /home/jenkins/agent/workspace/bef-intentapi_feature-PBBEF-1571 # timeout=10
12:17:32  Fetching upstream changes from https://git.express-scripts.com/ExpressScripts/aws-terraform-hs-bef-intentapi.git
12:17:32   > git --version # timeout=10
12:17:32   > git --version # 'git version 2.43.5'
12:17:32  using GIT_ASKPASS to set credentials This is the enterprise Health Services GitHub credentials for Jenkins
12:17:32   > git fetch --no-tags --force --progress -- https://git.express-scripts.com/ExpressScripts/aws-terraform-hs-bef-intentapi.git +refs/heads/feature-PBBEF-1571:refs/remotes/origin/feature-PBBEF-1571 # timeout=10
12:17:32   > git config remote.origin.url https://git.express-scripts.com/ExpressScripts/aws-terraform-hs-bef-intentapi.git # timeout=10
12:17:32   > git config --add remote.origin.fetch +refs/heads/feature-PBBEF-1571:refs/remotes/origin/feature-PBBEF-1571 # timeout=10
12:17:34  Avoid second fetch
12:17:34  Checking out Revision d922f5b418481a9d4e821ed925ae2bf8e24db872 (feature-PBBEF-1571)
12:17:34   > git config core.sparsecheckout # timeout=10
12:17:34   > git checkout -f d922f5b418481a9d4e821ed925ae2bf8e24db872 # timeout=10
12:17:35  Commit message: "Adding intentapi callback url"
12:17:35   > git rev-list --no-walk 5810074366b55b040e2f862905c6a009423f18a0 # timeout=10
[Pipeline] echo
12:17:35  Branch checked out: feature-PBBEF-1571
[Pipeline] }
[Pipeline] // dir
[Pipeline] }
[Pipeline] // container
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] echo
12:17:36  Starting pod group 'pbbef-openshift-devops1' with 4 phases
[Pipeline] withEnv
[Pipeline] {
[Pipeline] ansiColor
[Pipeline] {
12:17:36  
[Pipeline] echo
12:17:36  ---> START PHASE 'Module'
[Pipeline] echo
12:17:36  Switching to container 'cnp-docker-corev117'
[Pipeline] container
[Pipeline] {
[Pipeline] echo
12:17:36  Credential : [@string(credentialsId=GIT_TOKEN,variable=CNP_PREFLIGHT_CHECK_GIT_SETTINGS_MODULE_TOKEN), @string(credentialsId=GIT_TOKEN,variable=CNP_PREFLIGHT_CHECK_GIT_SETTINGS_TOKEN)]
[Pipeline] echo
12:17:36  Jira Scanning - DISABLED
[Pipeline] echo
12:17:36  CNP_XLR_TEMPLATE_URL is configured to https://xlrelease.express-scripts.com/api/v1/templates/Applications/templates/Folder2a9c42e13b784e8fbb57c559852b807c/Release47c3527db6944b918488c5c90166c4b0/start
[Pipeline] echo
12:17:36  setting CNP_CALLBACK_JOB to https://orchestrator24.orchestrator-v2.sys.cigna.com/job/orchestrators-folders/job/pbbef/job/Production/job/DevOps/job/EPF/job/XLRCallbackHandler/
[Pipeline] echo
12:17:36  setting CNP_CANDIDATE_JOB to orchestrators-folders/job/pbbef/job/Production/job/DevOps/job/EPF/job/CandidateDeployer
[Pipeline] stage
[Pipeline] { (common: PREFLIGHT_CHECK dev)
[Pipeline] echo
12:17:36  Switching to container 'cnp-docker-corev117'
[Pipeline] container
[Pipeline] {
[Pipeline] withCredentials
12:17:36  Masking supported pattern matches of $CNP_PREFLIGHT_CHECK_GIT_SETTINGS_MODULE_TOKEN or $CNP_PREFLIGHT_CHECK_GIT_SETTINGS_TOKEN
[Pipeline] {
[Pipeline] configFileProvider
12:17:36  provisioning config files...
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] echo
12:17:36  Phase caching is disabled, not stashing files.
[Pipeline] dir
12:17:36  Running in /home/jenkins/agent/workspace/bef-intentapi_feature-PBBEF-1571
[Pipeline] {
[Pipeline] echo
12:17:36  ---> START MODULE (PREFLIGHT_CHECK:cnp-preflight-check-git-settings)
[Pipeline] sh
12:17:37  + cnp-preflight-check-git-settings.sh {"Release_JenkinsMaster":"orchestrator24.orchestrator-v2.sys.cigna.com","Release_BuildUri":"https://orchestrator24.orchestrator-v2.sys.cigna.com/job/orchestrators-folders/job/pbbef/job/Non-Production/job/TERRAFORMS/job/aws-terraform-hs-bef-intentapi/job/feature-PBBEF-1571/8/","Release_rollbackDeploymentPackagePath":"","branchName":"feature-PBBEF-1571","repoUrl":"https://git.express-scripts.com/ExpressScripts/aws-terraform-hs-bef-intentapi.git","commitId":"d922f5b418481a9d4e821ed925ae2bf8e24db872"}
12:17:37  
12:17:37  WARNING: apt does not have a stable CLI interface. Use with caution in scripts.
12:17:37  
12:17:37  Package: cnp-preflight-check-git-settings
12:17:37  Version: 0.4.0
12:17:37  Status: install ok installed
12:17:37  Priority: optional
12:17:37  Maintainer: Software Engineering Excellence
12:17:37  Installed-Size: unknown
12:17:37  Depends: cnp-util-core, git
12:17:37  Download-Size: unknown
12:17:37  APT-Manual-Installed: yes
12:17:37  APT-Sources: /var/lib/dpkg/status
12:17:37  Description: Verifies that branch protection rules have been set on Git Repo.
12:17:37  
12:17:37  cnp-preflight-check-git-settings checking config of remote Url: https://git.express-scripts.com/ExpressScripts/aws-terraform-hs-bef-intentapi.git
12:17:37  2025/02/11 17:17:36 CNP_PREFLIGHT_CHECK_GIT_SETTINGS version 0.0.6
12:17:37  2025/02/11 17:17:36 ****
12:17:37  2025/02/11 17:17:36 Parsing URL
12:17:37  2025/02/11 17:17:36 https://git.express-scripts.com, ExpressScripts
12:17:37  2025/02/11 17:17:36 {"query":"{ repository(owner: \"ExpressScripts\", name: \"aws-terraform-hs-bef-intentapi\") { defaultBranchRef { name } branchProtectionRules(first: 100) {nodes {pattern isAdminEnforced dismissesStaleReviews requiresApprovingReviews restrictsPushes}}}}","variables":{}}
12:17:37  2025/02/11 17:17:37 200
12:17:37  2025/02/11 17:17:37 Logging HTTP Response:
12:17:37  2025/02/11 17:17:37 {"data":{"repository":{"defaultBranchRef":{"name":"develop"},"branchProtectionRules":{"nodes":[{"pattern":"master","isAdminEnforced":false,"dismissesStaleReviews":false,"requiresApprovingReviews":false,"restrictsPushes":true},{"pattern":"develop","isAdminEnforced":false,"dismissesStaleReviews":true,"requiresApprovingReviews":true,"restrictsPushes":true}]}}}}
12:17:37  2025/02/11 17:17:37 Validating git repository:
12:17:37  2025/02/11 17:17:37 Default branch is set to: develop
12:17:37  master
12:17:37  Verifying Master/Main Branch
12:17:37  2025/02/11 17:17:37 Master/Main branch is valid
12:17:37  develop
12:17:37  Verifying Develop Branch
12:17:37  2025/02/11 17:17:37 Develop branch is valid.
12:17:37  2025/02/11 17:17:37 master/main valid: true, develop valid: true
12:17:37  
12:17:37  Preflight check git settings successful
[Pipeline] fileExists
[Pipeline] echo
12:17:37  File cnp-preflight-check-git-settings-results.json not found
[Pipeline] echo
12:17:37  ---> END MODULE (PREFLIGHT_CHECK:cnp-preflight-check-git-settings)
[Pipeline] }
[Pipeline] // dir
[Pipeline] echo
12:17:37  Phase caching is disabled, not stashing files.
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // configFileProvider
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] }
[Pipeline] // container
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // container
[Pipeline] echo
12:17:37  <--- END PHASE 'Module'
[Pipeline] }
12:17:37  
[Pipeline] // ansiColor
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] withEnv
[Pipeline] {
[Pipeline] ansiColor
[Pipeline] {
12:17:37  
[Pipeline] echo
12:17:37  ---> START PHASE 'Module'
[Pipeline] echo
12:17:37  Switching to container 'cnp-docker-maven-java8v128'
[Pipeline] container
[Pipeline] {
[Pipeline] echo
12:17:37  Credential : [@usernamePassword(credentialsId=bef_checkmarx,passwordVariable=CNP_QUALITY_PROFILE_CHECKMARX_CX_MODULE_PASSWORD,usernameVariable=CNP_QUALITY_PROFILE_CHECKMARX_CX_MODULE_USER), @usernamePassword(credentialsId=bef_checkmarx,passwordVariable=CNP_QUALITY_PROFILE_CHECKMARX_CX_CRED,usernameVariable=CNP_QUALITY_PROFILE_CHECKMARX_CX_USER)]
[Pipeline] echo
12:17:37  Jira Scanning - DISABLED
[Pipeline] echo
12:17:37  CNP_XLR_TEMPLATE_URL is configured to https://xlrelease.express-scripts.com/api/v1/templates/Applications/templates/Folder2a9c42e13b784e8fbb57c559852b807c/Release47c3527db6944b918488c5c90166c4b0/start
[Pipeline] echo
12:17:37  setting CNP_CALLBACK_JOB to https://orchestrator24.orchestrator-v2.sys.cigna.com/job/orchestrators-folders/job/pbbef/job/Production/job/DevOps/job/EPF/job/XLRCallbackHandler/
[Pipeline] echo
12:17:37  setting CNP_CANDIDATE_JOB to orchestrators-folders/job/pbbef/job/Production/job/DevOps/job/EPF/job/CandidateDeployer
[Pipeline] stage
[Pipeline] { (quality: scan dev)
[Pipeline] echo
12:17:37  Switching to container 'cnp-docker-maven-java8v128'
[Pipeline] container
[Pipeline] {
[Pipeline] withCredentials
12:17:37  Masking supported pattern matches of $CNP_QUALITY_PROFILE_CHECKMARX_CX_MODULE_PASSWORD or $CNP_QUALITY_PROFILE_CHECKMARX_CX_CRED
[Pipeline] {
[Pipeline] configFileProvider
12:17:37  provisioning config files...
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] echo
12:17:37  Phase caching is disabled, not stashing files.
[Pipeline] dir
12:17:37  Running in /home/jenkins/agent/workspace/bef-intentapi_feature-PBBEF-1571
[Pipeline] {
[Pipeline] echo
12:17:37  ---> START MODULE (SECURITY_SCAN:cnp-quality-profile-checkmarx)
[Pipeline] sh
12:17:38  + cnp-quality-profile-checkmarx.sh scan {"cxPreset":36,"projectName":"aws-terraform-hs-bef-intentapi","cxProductionBranch":"master","teamName":"BEF","cxIncremental":true,"cxExcludeFolders":".git,.gitignore","Release_JenkinsMaster":"orchestrator24.orchestrator-v2.sys.cigna.com","Release_BuildUri":"https://orchestrator24.orchestrator-v2.sys.cigna.com/job/orchestrators-folders/job/pbbef/job/Non-Production/job/TERRAFORMS/job/aws-terraform-hs-bef-intentapi/job/feature-PBBEF-1571/8/","Release_rollbackDeploymentPackagePath":"","branchName":"feature-PBBEF-1571","repoUrl":"https://git.express-scripts.com/ExpressScripts/aws-terraform-hs-bef-intentapi.git","commitId":"d922f5b418481a9d4e821ed925ae2bf8e24db872"}
12:17:38  
12:17:38  WARNING: apt does not have a stable CLI interface. Use with caution in scripts.
12:17:38  
12:17:38  Package: cnp-quality-profile-checkmarx
12:17:38  Version: 0.0.10
12:17:38  Status: install ok installed
12:17:38  Priority: optional
12:17:38  Maintainer: Evernorth Software Engineering Excellence
12:17:38  Installed-Size: unknown
12:17:38  Depends: unzip
12:17:38  Download-Size: unknown
12:17:38  APT-Manual-Installed: yes
12:17:38  APT-Sources: /var/lib/dpkg/status
12:17:38  Description: Package includes checkmarx command line api scripts for CxSAST scans.
12:17:38  
12:17:38  
12:17:38  
12:17:38  Setting variable cxExcludeFolders with value '.git,.gitignore'
12:17:38  Setting variable cxIncremental with value 'true'
12:17:38  Setting variable cxPreset with value '36'
12:17:39  Setting variable cxProductionBranch with value 'master'
12:17:40  Setting variable projectName with value 'aws-terraform-hs-bef-intentapi'
12:17:40  Setting variable teamName with value 'BEF'
12:17:40  [WARNING] You've set [ cxExcludeFolders ]. This parameter is being deprecated with the Enterprise Checkmarx migration and will be removed in a subsequent version.
12:17:40  [WARNING] You've set [ cxIncremental ]. This parameter is being deprecated with the Enterprise Checkmarx migration and will be removed in a subsequent version.
12:17:40  [WARNING] You've set [ cxPreset ]. This parameter is being deprecated with the Enterprise Checkmarx migration and will be removed in a subsequent version.
12:17:40  Checkmarx Team Name: BEF
12:17:40  cxServer: https://cigna.checkmarx.net
12:17:40  Mapping Preset
12:17:40  Vulnerability thresholds enabled
12:17:40  Python3 not installed
12:17:40  DSO_IS_INSTALLED: false
12:17:40  Team Path: CxServer/Cigna
12:17:40  Project Name: CxServer/Cigna/BEF/aws-terraform-hs-bef-intentapi
12:17:40  CxUser: bef_api
12:17:40  locationpath: .
12:17:40  Preset: Checkmarx Default
12:17:40  Comment: 'EPF Module: cnp-quality-profile-checkmarx'
12:17:40  Config file location: /usr/local/etc/cx_console.properties
12:17:40  Optional Keys: -Incremental -LocationFilesExclude !**/*.3g2,!**/*.3gp,!**/*.7z,!**/*.DS_Store,!**/*.aac,!**/*.ahtm,!**/*.ahtml,!**/*.aif,!**/*.asf,!**/*.asx,!**/*.avi,!**/*.bak,!**/*.bin,!**/*.bmp,!**/*.class,!**/*.csv,!**/*.dll,!**/*.doc*,!**/*.dot*,!**/*.emf,!**/*.exe,!**/*.fhtml,!**/*.flv,!**/*.gif,!**/*.gz,!**/*.hdm,!**/*.hdml,!**/*.hsql,!**/*.ht,!**/*.hta,!**/*.htc,!**/*.htd,!**/*.htmls,!**/*.iff,!**/*.ihtml,!**/*.iml,!**/*.ipr,!**/*.iws,!**/*.jar,!**/*.jpg,!**/*.log,!**/*.m3u,!**/*.mht*,!**/*.mid,!**/*.mov,!**/*.mp3,!**/*.mp4,!**/*.mpa,!**/*.mpg,!**/*.nuget.props,!**/*.nuget.targets,!**/*.nupkg,!**/*.odp,!**/*.ods,!**/*.odt,!**/*.pdb,!**/*.pdf,!**/*.png,!**/*.pot*,!**/*.ppa*,!**/*.pps*,!**/*.ppt*,!**/*.psd,!**/*.ra,!**/*.rar,!**/*.rm,!**/*.slk,!**/*.snupkg,!**/*.ssi,!**/*.stm*,!**/*.swf,!**/*.tar,!**/*.tar.gz,!**/*.thmx,!**/*.tif,!**/*.tmp,!**/*.ttml,!**/*.txn,!**/*.vob,!**/*.vscode,!**/*.wav,!**/*.wma,!**/*.wmv,!**/*.xla*,!**/*.xls*,!**/*.xlt*,!**/*.xlw,!**/*.zip,!**/Checkmarx/Reports/*.*,!**/node_modules/*.* -LocationPathExclude _cvs,.svn,.hg,.git,.bzr,bin,obj,backup,node_modules,.git,.gitignore 
12:17:40  Working directory: /home/jenkins/agent/workspace/bef-intentapi_feature-PBBEF-1571
12:17:43  [2025-02-11T17:17:43,036 INFO ] -----------------------------------------------------------------------------------------
12:17:43  [2025-02-11T17:17:43,112 INFO ] CxConsole Configuration: 
12:17:43  [2025-02-11T17:17:43,112 INFO ] --------------------
12:17:43  [2025-02-11T17:17:43,141 INFO ] plugin version: 1.1.33
12:17:43  [2025-02-11T17:17:43,141 INFO ] verbose: true
12:17:43  [2025-02-11T17:17:43,141 INFO ] cxserver: https://cigna.checkmarx.net
12:17:43  [2025-02-11T17:17:43,218 INFO ] cxuser: 6812ed0a977bd7b67ccaee325fe9ae2b0edc25dcb7d0e0d34a63a281e1506452
12:17:43  [2025-02-11T17:17:43,219 INFO ] cxpassword: ********
12:17:43  [2025-02-11T17:17:43,219 INFO ] projectname: CxServer/Cigna/BEF/aws-terraform-hs-bef-intentapi
12:17:43  [2025-02-11T17:17:43,219 INFO ] locationtype: folder
12:17:43  [2025-02-11T17:17:43,219 INFO ] locationpath: /home/jenkins/agent/workspace/bef-intentapi_feature-PBBEF-1571/.
12:17:43  [2025-02-11T17:17:43,219 INFO ] comment: 'EPF Module: cnp-quality-profile-checkmarx'
12:17:43  [2025-02-11T17:17:43,219 INFO ] config: /usr/local/etc/cx_console.properties
12:17:43  [2025-02-11T17:17:43,219 INFO ] preset: Checkmarx Default
12:17:43  [2025-02-11T17:17:43,220 INFO ] enablesca: true
12:17:43  [2025-02-11T17:17:43,220 INFO ] scaaccount: Cigna
12:17:43  [2025-02-11T17:17:43,220 INFO ] cxsasturl: https://cigna.checkmarx.net
12:17:43  [2025-02-11T17:17:43,220 INFO ] scaaccesscontrolurl: https://cigna.checkmarx.net/CxRestAPI/auth/
12:17:43  [2025-02-11T17:17:43,220 INFO ] scausername: 6812ed0a977bd7b67ccaee325fe9ae2b0edc25dcb7d0e0d34a63a281e1506452
12:17:43  [2025-02-11T17:17:43,221 INFO ] scapassword: ********
12:17:43  [2025-02-11T17:17:43,221 INFO ] scafilesexclude: !**/*.3g2,!**/*.3gp,!**/*.7z,!**/*.DS_Store,!**/*.aac,!**/*.ahtm,!**/*.ahtml,!**/*.aif,!**/*.asf,!**/*.asx,!**/*.avi,!**/*.bak,!**/*.bin,!**/*.bmp,!**/*.class,!**/*.csv,!**/*.dll,!**/*.doc*,!**/*.dot*,!**/*.emf,!**/*.exe,!**/*.fhtml,!**/*.flv,!**/*.gif,!**/*.gz,!**/*.hdm,!**/*.hdml,!**/*.hsql,!**/*.ht,!**/*.hta,!**/*.htc,!**/*.htd,!**/*.htmls,!**/*.iff,!**/*.ihtml,!**/*.iml,!**/*.ipr,!**/*.iws,!**/*.jar,!**/*.jpg,!**/*.log,!**/*.m3u,!**/*.mht*,!**/*.mid,!**/*.mov,!**/*.mp3,!**/*.mp4,!**/*.mpa,!**/*.mpg,!**/*.nuget.props,!**/*.nuget.targets,!**/*.nupkg,!**/*.odp,!**/*.ods,!**/*.odt,!**/*.pdb,!**/*.pdf,!**/*.png,!**/*.pot*,!**/*.ppa*,!**/*.pps*,!**/*.ppt*,!**/*.psd,!**/*.ra,!**/*.rar,!**/*.rm,!**/*.slk,!**/*.snupkg,!**/*.ssi,!**/*.stm*,!**/*.swf,!**/*.tar,!**/*.tar.gz,!**/*.thmx,!**/*.tif,!**/*.tmp,!**/*.ttml,!**/*.txn,!**/*.vob,!**/*.vscode,!**/*.wav,!**/*.wma,!**/*.wmv,!**/*.xla*,!**/*.xls*,!**/*.xlt*,!**/*.xlw,!**/*.zip,!**/Checkmarx/Reports/*.*,!**/node_modules/*.*
12:17:43  [2025-02-11T17:17:43,221 INFO ] scapathexclude: _cvs,.svn,.hg,.git,.bzr,bin,obj,backup,node_modules,.git,.gitignore
12:17:43  [2025-02-11T17:17:43,221 INFO ] incremental: true
12:17:43  [2025-02-11T17:17:43,221 INFO ] locationfilesexclude: !**/*.3g2,!**/*.3gp,!**/*.7z,!**/*.DS_Store,!**/*.aac,!**/*.ahtm,!**/*.ahtml,!**/*.aif,!**/*.asf,!**/*.asx,!**/*.avi,!**/*.bak,!**/*.bin,!**/*.bmp,!**/*.class,!**/*.csv,!**/*.dll,!**/*.doc*,!**/*.dot*,!**/*.emf,!**/*.exe,!**/*.fhtml,!**/*.flv,!**/*.gif,!**/*.gz,!**/*.hdm,!**/*.hdml,!**/*.hsql,!**/*.ht,!**/*.hta,!**/*.htc,!**/*.htd,!**/*.htmls,!**/*.iff,!**/*.ihtml,!**/*.iml,!**/*.ipr,!**/*.iws,!**/*.jar,!**/*.jpg,!**/*.log,!**/*.m3u,!**/*.mht*,!**/*.mid,!**/*.mov,!**/*.mp3,!**/*.mp4,!**/*.mpa,!**/*.mpg,!**/*.nuget.props,!**/*.nuget.targets,!**/*.nupkg,!**/*.odp,!**/*.ods,!**/*.odt,!**/*.pdb,!**/*.pdf,!**/*.png,!**/*.pot*,!**/*.ppa*,!**/*.pps*,!**/*.ppt*,!**/*.psd,!**/*.ra,!**/*.rar,!**/*.rm,!**/*.slk,!**/*.snupkg,!**/*.ssi,!**/*.stm*,!**/*.swf,!**/*.tar,!**/*.tar.gz,!**/*.thmx,!**/*.tif,!**/*.tmp,!**/*.ttml,!**/*.txn,!**/*.vob,!**/*.vscode,!**/*.wav,!**/*.wma,!**/*.wmv,!**/*.xla*,!**/*.xls*,!**/*.xlt*,!**/*.xlw,!**/*.zip,!**/Checkmarx/Reports/*.*,!**/node_modules/*.*
12:17:43  [2025-02-11T17:17:43,221 INFO ] locationpathexclude: _cvs,.svn,.hg,.git,.bzr,bin,obj,backup,node_modules,.git,.gitignore
12:17:43  [2025-02-11T17:17:43,221 INFO ] --------------------
12:17:43  
12:17:43  
12:17:43  [2025-02-11T17:17:43,223 INFO ] Config file location: /usr/local/etc/cx_console.properties
12:17:45  [2025-02-11T17:17:44,719 INFO ] Initializing Cx client [2024.3.26]
12:17:45  [2025-02-11T17:17:45,747 INFO ] Checkmarx server version [9.6.0.181]. Hotfix [16].
12:17:45  [2025-02-11T17:17:45,747 INFO ] Logging into the Checkmarx service.
12:17:46  [2025-02-11T17:17:46,218 INFO ] full team path: /CxServer/Cigna/BEF
12:17:46  [2025-02-11T17:17:46,317 INFO ] preset name: Checkmarx Default preset id: 36
12:17:46  [2025-02-11T17:17:46,460 INFO ] Project already exists with ID 15336
12:17:46  [2025-02-11T17:17:46,468 INFO ] Locale used in CxSAST is  en-US
12:17:46  [2025-02-11T17:17:46,469 INFO ] Logging into CxAST-SCA
12:17:46  [2025-02-11T17:17:46,817 INFO ] -----------------------------------Create CxSAST Scan:------------------------------------
12:17:47  [2025-02-11T17:17:46,961 INFO ] Uploading the zipped source code.
12:17:47  [2025-02-11T17:17:46,966 INFO ] Exclude folders converted to: '!**/_cvs/**,!**/.svn/**,!**/.hg/**,!**/.git/**,!**/.bzr/**,!**/bin/**,!**/obj/**,!**/backup/**,!**/node_modules/**,!**/_cvs/**,!**/.svn/**,!**/.hg/**,!**/.git/**,!**/.bzr/**,!**/bin/**,!**/obj/**,!**/backup/**,!**/node_modules/**,!**/.git/**,!**/.gitignore/**,'
12:17:47  [2025-02-11T17:17:47,331 INFO ] Uploading zip file
12:17:47  [2025-02-11T17:17:47,612 INFO ] SAST scan created successfully: Scan ID is 2587677
12:17:47  [2025-02-11T17:17:47,613 INFO ] ----------------------------------- Initiating CxAST-SCA Scan:------------------------------------
12:17:47  [2025-02-11T17:17:47,613 INFO ] Getting project by name: 'aws-terraform-hs-bef-intentapi'
12:17:47  [2025-02-11T17:17:47,613 INFO ] Getting project ID by name: 'aws-terraform-hs-bef-intentapi'
12:17:48  [2025-02-11T17:17:47,951 INFO ] Project ID: befdfd3a-af85-4742-aa92-3a79b4f2a642
12:17:48  [2025-02-11T17:17:47,952 INFO ] Project already exists with ID befdfd3a-af85-4742-aa92-3a79b4f2a642
12:17:48  [2025-02-11T17:17:48,099 INFO ] Team name: /CxServer/Cigna/BEF
12:17:48  [2025-02-11T17:17:48,100 INFO ] Project level custom tag name: null
12:17:48  [2025-02-11T17:17:48,292 INFO ] Resolving configuration for project: befdfd3a-af85-4742-aa92-3a79b4f2a642
12:17:48  [2025-02-11T17:17:48,560 INFO ] Got the following manifest patterns [**/package.json, **/package-lock.json, **/lerna.json, **/.npmrc, **/*.gradle, **/gradle-wrapper.properties, **/build.gradle.kts, **/*.csproj, **/*.vbproj, **/Directory.Packages.props, **/nuget.config, **/packages.config, **/pom.xml, **/settings.xml, **/build.sbt, **/requirements.txt, **/requirements-*.txt, **/requirement.txt, **/requirement-*.txt, **/*.whl, **/*.tar.gz, **/*.zip, **/packages.txt, **/yarn.lock, **/.yarnrc, **/composer.json, **/composer.lock, **/bower.json, **/.bowerrc, **/build.properties, **/plugins.sbt, **/gradle.properties, **/gradlew, **/gradlew.bat, **/gradle-wrapper.jar, **/versions.properties, **/VERSION, **/Dockerfile**, **/.env_cxsca-container-build-args, **/.env, **/Package.swift, **/Cartfile, **/Cartfile.private, **/Cartfile.resolved, **/Podfile, **/Podfile.lock, **/go.mod, **/go.sum, **/pyproject.toml, **/poetry.lock]
12:17:48  [2025-02-11T17:17:48,560 INFO ] Got the following fingerprint patterns [!**/node_modules/**, !**/bower_components/**]
12:17:48  [2025-02-11T17:17:48,561 INFO ] Using manifest only and fingerprint flow
12:17:48  [2025-02-11T17:17:48,561 INFO ] Source Directory : /home/jenkins/agent/workspace/bef-intentapi_feature-PBBEF-1571/.
12:17:48  [2025-02-11T17:17:48,561 INFO ] Exclude folders converted to: '!**/_cvs/**,!**/.svn/**,!**/.hg/**,!**/.git/**,!**/.bzr/**,!**/bin/**,!**/obj/**,!**/backup/**,!**/node_modules/**,!**/.git/**,!**/.gitignore/**,'
12:17:48  [2025-02-11T17:17:48,627 INFO ] Started fingerprint collection on /home/jenkins/agent/workspace/bef-intentapi_feature-PBBEF-1571/.
12:17:48  [2025-02-11T17:17:48,720 INFO ] Calculated fingerprints for 34 files
12:17:49  [2025-02-11T17:17:48,827 INFO ] Zipping ( 1 KB ): .cxsca.sig
12:17:49  [2025-02-11T17:17:49,125 INFO ] Uploading to: https://uploads.sca.checkmarx.net/source-code/474bb825-943e-4816-a380-635cb79b76c2/20250211-051749109_n5ab1glx.xew
12:17:49  [2025-02-11T17:17:49,125 INFO ] Uploading the zipped data.
12:17:49  [2025-02-11T17:17:49,290 INFO ] Sending the 'start scan' request.
12:17:49  [2025-02-11T17:17:49,511 INFO ] Scan started successfully. Scan ID: a32a9f1b-117a-4563-b2f2-25782e355589
12:17:49  [2025-02-11T17:17:49,512 INFO ] ------------------------------------Get CxSAST Results:-----------------------------------
12:17:49  [2025-02-11T17:17:49,512 INFO ] Waiting for CxSAST scan to finish.
12:18:01  [2025-02-11T17:17:59,733 INFO ] Waiting for SAST scan results. Elapsed time: 00:00:10.  0% processed. Status: Queued.
12:18:09  [2025-02-11T17:18:09,820 INFO ] Waiting for SAST scan results. Elapsed time: 00:00:20.  0% processed. Status: Scanning.
12:18:19  [2025-02-11T17:18:19,913 INFO ] Waiting for SAST scan results. Elapsed time: 00:00:30.  0% processed. Status: Scanning.
12:18:30  [2025-02-11T17:18:30,003 INFO ] Waiting for SAST scan results. Elapsed time: 00:00:41.  0% processed. Status: Scanning.
12:18:42  [2025-02-11T17:18:40,098 INFO ] Waiting for SAST scan results. Elapsed time: 00:00:51. 99% processed. Status: Finished.
12:18:42  [2025-02-11T17:18:40,098 INFO ] SAST scan finished successfully.
12:18:42  [2025-02-11T17:18:40,098 INFO ] Retrieving SAST scan results
12:18:42  [2025-02-11T17:18:40,182 INFO ] ----------------------------Checkmarx Scan Results(CxSAST):-------------------------------
12:18:42  [2025-02-11T17:18:40,183 INFO ] High severity results: 0
12:18:42  [2025-02-11T17:18:40,183 INFO ] Medium severity results: 11
12:18:42  [2025-02-11T17:18:40,183 INFO ] Low severity results: 7
12:18:42  [2025-02-11T17:18:40,183 INFO ] Information severity results: 0
12:18:42  [2025-02-11T17:18:40,183 INFO ] 
12:18:42  [2025-02-11T17:18:40,183 INFO ] Scan results location: https://cigna.checkmarx.net/CxWebClient/ViewerMain.aspx?scanId=2587677&ProjectID=15336
12:18:42  [2025-02-11T17:18:40,183 INFO ] ------------------------------------------------------------------------------------------
12:18:42  
12:18:42  [2025-02-11T17:18:40,183 INFO ] ------------------------------------Get CxAST-SCA Results:-----------------------------------
12:18:42  [2025-02-11T17:18:40,183 INFO ] Waiting for CxAST-SCA scan to finish
12:18:42  [2025-02-11T17:18:40,411 INFO ] Waiting for CxAST-SCA scan results. Elapsed time: 00:00:00. Status: Completed.
12:18:42  [2025-02-11T17:18:40,417 INFO ] CxAST-SCA scan finished successfully. Retrieving CxAST-SCA scan results.
12:18:42  [2025-02-11T17:18:40,614 INFO ] ----CxSCA risk report summary----
12:18:42  [2025-02-11T17:18:40,614 INFO ] Created on: 2025-02-11T17:18:07.700668Z
12:18:42  [2025-02-11T17:18:40,614 INFO ] Direct packages: 0
12:18:42  [2025-02-11T17:18:40,614 INFO ] Critical vulnerabilities: 0
12:18:42  [2025-02-11T17:18:40,615 INFO ] High vulnerabilities: 0
12:18:42  [2025-02-11T17:18:40,615 INFO ] Medium vulnerabilities: 0
12:18:42  [2025-02-11T17:18:40,615 INFO ] Low vulnerabilities: 0
12:18:42  [2025-02-11T17:18:40,615 INFO ] Scan ID: a32a9f1b-117a-4563-b2f2-25782e355589
12:18:42  [2025-02-11T17:18:40,616 INFO ] Risk score: 0.00
12:18:42  [2025-02-11T17:18:40,616 INFO ] Total packages: 0
12:18:42  [2025-02-11T17:18:40,616 INFO ] Total outdated packages: 0
12:18:42  [2025-02-11T17:18:40,827 INFO ] CxAST-SCA scan results location: https://sca.checkmarx.net/#/projects/befdfd3a-af85-4742-aa92-3a79b4f2a642/reports/a32a9f1b-117a-4563-b2f2-25782e355589
12:18:42  [2025-02-11T17:18:40,827 INFO ] Retrieved SCA results successfully.
12:18:42  cnp-quality-profile-checkmarx.sh scan returnCode: 0
12:18:42  
12:18:42  WARNING: apt does not have a stable CLI interface. Use with caution in scripts.
12:18:42  
12:18:42  Package: cnp-util-core
12:18:42  Version: 0.4.2
12:18:42  Status: install ok installed
12:18:42  Priority: optional
12:18:42  Maintainer: Evernorth Software Engineering Excellence
12:18:42  Installed-Size: unknown
12:18:42  Depends: jq
12:18:42  Download-Size: unknown
12:18:42  APT-Manual-Installed: yes
12:18:42  APT-Sources: /var/lib/dpkg/status
12:18:42  Description: Scripts and utilities for use with your cnp modules
12:18:42  
[Pipeline] fileExists
[Pipeline] readFile
[Pipeline] echo
12:18:42  {
12:18:42  "commandResult":"SUCCESS",
12:18:42  "commandOutput": {
12:18:42  }
12:18:42  }
12:18:42  
[Pipeline] sh
12:18:43  + rm cnp-quality-profile-checkmarx-results.json
[Pipeline] echo
12:18:43  ---> END MODULE (SECURITY_SCAN:cnp-quality-profile-checkmarx)
[Pipeline] }
[Pipeline] // dir
[Pipeline] echo
12:18:43  Phase caching is disabled, not stashing files.
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // configFileProvider
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] }
[Pipeline] // container
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // container
[Pipeline] echo
12:18:43  <--- END PHASE 'Module'
[Pipeline] }
12:18:43  
[Pipeline] // ansiColor
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] withEnv
[Pipeline] {
[Pipeline] ansiColor
[Pipeline] {
12:18:43  
[Pipeline] echo
12:18:43  ---> START PHASE 'Linting'
[Pipeline] echo
12:18:43  Switching to container ''
[Pipeline] container
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Linting)
[Pipeline] withCredentials
[Pipeline] {
[Pipeline] configFileProvider
12:18:43  provisioning config files...
[Pipeline] {
[Pipeline] dir
12:18:43  Running in /home/jenkins/agent/workspace/bef-intentapi_feature-PBBEF-1571
[Pipeline] {
[Pipeline] echo
12:18:43  Phase caching is disabled, not stashing files.
[Pipeline] parallel
[Pipeline] { (Branch: approvalrequest)
[Pipeline] echo
12:18:43  Switching to container 'jnlp'
[Pipeline] container
[Pipeline] {
[Pipeline] parallel
[Pipeline] { (Branch: sendEmail)
[Pipeline] { (Branch: sendMattermost)
[Pipeline] { (Branch: sendTeams)
[Pipeline] { (Branch: sendWebex)
[Pipeline] }
[Pipeline] }
[Pipeline] }
[Pipeline] }
[Pipeline] // parallel
[Pipeline] echo
12:18:43  Give input to Jenkins request
[Pipeline] echo
12:18:43  Submitter: accounts\C8P8ZF,accounts\P57026, accounts\C7B8GS,accounts\C7Q7RW,accounts\C7R5TN,accounts\C8C7GQ,accounts\EI5194,accounts\EJ6842,accounts\C8Q9M3,accounts\C8G2NZ
[Pipeline] timeout
12:18:43  Timeout set to expire in 2 hr 0 min
[Pipeline] {
[Pipeline] input
12:18:43  Do you want to execute terraform plan to DEV-Candidate (Blue)?
12:18:43  Proceed or Abort
12:18:52  Approved by accounts\C8P8ZF
[Pipeline] }
[Pipeline] // timeout
[Pipeline] }
[Pipeline] // container
[Pipeline] }
[Pipeline] // parallel
[Pipeline] echo
12:18:52  Phase caching is disabled, not stashing files.
[Pipeline] }
[Pipeline] // dir
[Pipeline] }
[Pipeline] // configFileProvider
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // container
[Pipeline] echo
12:18:52  <--- END PHASE 'Linting'
[Pipeline] }
12:18:52  
[Pipeline] // ansiColor
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] withEnv
[Pipeline] {
[Pipeline] ansiColor
[Pipeline] {
12:18:52  
[Pipeline] echo
12:18:52  ---> START PHASE 'Module'
[Pipeline] echo
12:18:52  Switching to container 'cnp-docker-terraformv100-dev-ov2'
[Pipeline] container
[Pipeline] {
[Pipeline] echo
12:18:52  Credential : [@string(credentialsId=DAWS-HS-UPSILONFRIES,variable=CNP_DEPLOY_TERRAFORM_AWS_MODULE_TOKEN), @string(credentialsId=DAWS-HS-UPSILONFRIES,variable=CNP_DEPLOY_TERRAFORM_AWS_TOKEN)]
[Pipeline] echo
12:18:52  Jira Scanning - DISABLED
[Pipeline] echo
12:18:52  CNP_XLR_TEMPLATE_URL is configured to https://xlrelease.express-scripts.com/api/v1/templates/Applications/templates/Folder2a9c42e13b784e8fbb57c559852b807c/Release47c3527db6944b918488c5c90166c4b0/start
[Pipeline] echo
12:18:52  setting CNP_CALLBACK_JOB to https://orchestrator24.orchestrator-v2.sys.cigna.com/job/orchestrators-folders/job/pbbef/job/Production/job/DevOps/job/EPF/job/XLRCallbackHandler/
[Pipeline] echo
12:18:52  setting CNP_CANDIDATE_JOB to orchestrators-folders/job/pbbef/job/Production/job/DevOps/job/EPF/job/CandidateDeployer
[Pipeline] stage
[Pipeline] { (terraform: plan)
[Pipeline] echo
12:18:52  Switching to container 'cnp-docker-terraformv100-dev-ov2'
[Pipeline] container
[Pipeline] {
[Pipeline] withCredentials
12:18:52  Masking supported pattern matches of $CNP_DEPLOY_TERRAFORM_AWS_MODULE_TOKEN or $CNP_DEPLOY_TERRAFORM_AWS_TOKEN
[Pipeline] {
[Pipeline] configFileProvider
12:18:52  provisioning config files...
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] echo
12:18:52  Phase caching is disabled, not stashing files.
[Pipeline] dir
12:18:52  Running in /home/jenkins/agent/workspace/bef-intentapi_feature-PBBEF-1571
[Pipeline] {
[Pipeline] echo
12:18:52  ---> START MODULE (Plan Dev Candidate:cnp-deploy-terraform-aws)
[Pipeline] sh
12:18:53  + cnp-deploy-terraform-aws.sh plan {"credentials":[{"id":"DAWS-HS-UPSILONFRIES","env":"dev","type":"string"}],"configDir":"envs/dev-candidate","env":"dev","awsAccountId":"364685145795","awsUsername":"DAWS-HS-UPSILONFRIES","awsRoleName":"DEPLOYER","tfVersion":"1.4.6","tfDir":"","Release_JenkinsMaster":"orchestrator24.orchestrator-v2.sys.cigna.com","Release_BuildUri":"https://orchestrator24.orchestrator-v2.sys.cigna.com/job/orchestrators-folders/job/pbbef/job/Non-Production/job/TERRAFORMS/job/aws-terraform-hs-bef-intentapi/job/feature-PBBEF-1571/8/","Release_rollbackDeploymentPackagePath":"","branchName":"feature-PBBEF-1571","repoUrl":"https://git.express-scripts.com/ExpressScripts/aws-terraform-hs-bef-intentapi.git","commitId":"d922f5b418481a9d4e821ed925ae2bf8e24db872"}
12:18:53  
12:18:53  WARNING: apt does not have a stable CLI interface. Use with caution in scripts.
12:18:53  
12:18:53  Package: cnp-deploy-terraform-aws
12:18:53  Version: 0.3.4
12:18:53  Status: install ok installed
12:18:53  Priority: optional
12:18:53  Maintainer: Evernorth Software Engineering Excellence
12:18:53  Installed-Size: unknown
12:18:53  Depends: cnp-util-core, cnp-login-aws
12:18:53  Download-Size: unknown
12:18:53  APT-Manual-Installed: yes
12:18:53  APT-Sources: /var/lib/dpkg/status
12:18:53  Description: This has terraform scripts for AWS deployment.
12:18:53  
12:18:53  Setting variable repoUrl with value 'https://git.express-scripts.com/ExpressScripts/aws-terraform-hs-bef-intentapi.git'
12:18:53  Setting variable configDir with value 'envs/dev-candidate'
12:18:53  Setting variable awsAccountId with value '364685145795'
12:18:53  Setting variable awsRoleName with value 'DEPLOYER'
12:18:53  Setting variable awsUsername with value 'DAWS-HS-UPSILONFRIES'
12:18:53  Setting variable tfVersion with value '1.4.6'
12:18:53  Missing tfDir and defaulting to repository root
12:18:53  awsUsername: DAWS-HS-UPSILONFRIES
12:18:53  loginParams: {"awsAccountId":"364685145795","awsRoleName":"DEPLOYER","awsUsername":"DAWS-HS-UPSILONFRIES"}
12:18:53  
12:18:53  WARNING: apt does not have a stable CLI interface. Use with caution in scripts.
12:18:53  
12:18:53  Package: cnp-login-aws
12:18:53  Version: 1.0.2-dev-ov2
12:18:53  Status: install ok installed
12:18:53  Priority: optional
12:18:53  Maintainer: Evernorth Software Engineering Excellence
12:18:53  Installed-Size: unknown
12:18:53  Depends: python3, python3-pip, apt-transport-https, unzip, curl, cnp-util-core
12:18:53  Download-Size: unknown
12:18:53  APT-Manual-Installed: no
12:18:53  APT-Sources: /var/lib/dpkg/status
12:18:53  Description: This module logs into AWS using saml2aws.
12:18:53  
12:18:53  Setting variable awsAccountId with value '364685145795'
12:18:53  Setting variable awsRoleName with value 'DEPLOYER'
12:18:53  Setting variable awsUsername with value 'DAWS-HS-UPSILONFRIES'
12:18:53  awsAccountId: 364685145795
12:18:53  awsRoleName: DEPLOYER
12:18:53  awsUsername: DAWS-HS-UPSILONFRIES
12:18:53  CNP_AWS_IDP_PROVIDER is configured to Okta.
12:18:53  For your accounts to work with Okta, DAWS-HS-UPSILONFRIES should be configured with the following
12:18:53    1. givenName=DAWS-HS-UPSILONFRIES,
12:18:53    2. sn=DAWS-HS-UPSILONFRIES,
12:18:53    3. mail=DAWS-HS-UPSILONFRIES@express-scripts.com,
12:18:53    4. employeeNumber
12:18:53  
12:18:53  Logging into AWS...
12:18:53  Using IDP Account default to access Okta https://cigna.okta.com/home/cigna_awsaccountfederation_1/0oa73k6r3qgarO3uY4x7/aln73kc6ziVIaLcRj4x7
12:18:53  Authenticating as accounts\DAWS-HS-UPSILONFRIES ...
12:18:55  Selected role: arn:aws:iam::364685145795:role/DEPLOYER
12:18:55  Requesting AWS credentials using SAML assertion
12:18:56  Logged in as: arn:aws:sts::364685145795:assumed-role/DEPLOYER/421131-S
12:18:56  
12:18:56  Your new access key pair has been stored in the AWS configuration
12:18:56  Note that it will expire at 2025-02-11 18:18:55 +0000 UTC
12:18:56  
12:18:56  saml2aws login successful
12:18:56  
12:18:56  WARNING: apt does not have a stable CLI interface. Use with caution in scripts.
12:18:56  
12:18:56  Package: cnp-util-core
12:18:56  Version: 1.0.2-dev-ov2
12:18:56  Status: install ok installed
12:18:56  Priority: optional
12:18:56  Maintainer: Evernorth Software Engineering Excellence
12:18:56  Installed-Size: unknown
12:18:56  Depends: jq
12:18:56  Download-Size: unknown
12:18:56  APT-Manual-Installed: no
12:18:56  APT-Sources: /var/lib/dpkg/status
12:18:56  Description: Scripts and utilities for use with your cnp modules
12:18:56  
12:18:56  
12:18:56  cnp-login-aws.sh saml2aws successful
12:18:56  Setup git config & install Terraform...
12:18:56  core.repositoryformatversion=0
12:18:56  core.filemode=true
12:18:56  core.bare=false
12:18:56  core.logallrefupdates=true
12:18:56  core.hookspath=/dev/null
12:18:56  remote.origin.url=https://git.express-scripts.com/ExpressScripts/aws-terraform-hs-bef-intentapi.git
12:18:56  remote.origin.fetch=+refs/heads/feature-PBBEF-1571:refs/remotes/origin/feature-PBBEF-1571
12:18:56  url.https://:@git.express-scripts.com/.insteadof=git@git.express-scripts.com:
12:18:56  url.https://:@git.express-scripts.com.insteadof=https://git.express-scripts.com
12:18:56  http.sslverify=false
12:18:56  Installing Terraform v1.4.6
12:18:56  Downloading release tarball from https://releases.hashicorp.com/terraform/1.4.6/terraform_1.4.6_linux_amd64.zip
12:18:56  Downloading SHA hash file from https://releases.hashicorp.com/terraform/1.4.6/terraform_1.4.6_SHA256SUMS
12:18:56  Not instructed to use Local PGP (/opt/.tfenv/use-{gpgv,gnupg}) & No keybase install found, skipping OpenPGP signature verification
12:18:58  Archive:  /tmp/tfenv_download.o8lfR7/terraform_1.4.6_linux_amd64.zip
12:18:58    inflating: /opt/.tfenv/versions/1.4.6/terraform  
12:18:58  Installation of terraform v1.4.6 successful. To make this your default version, run 'tfenv use 1.4.6'
12:18:58  Switching default version to v1.4.6
12:18:58  Default version (when not overridden by .terraform-version or TFENV_TERRAFORM_VERSION) is now: 1.4.6
12:18:58  Initializing Terraform...
12:18:58  - Terraform Working Directory: /home/jenkins/agent/workspace/bef-intentapi_feature-PBBEF-1571
12:18:58  - backend config: envs/dev-candidate/backend.config
12:18:58  
12:18:58  Initializing the backend...
12:18:58  
12:18:58  Successfully configured the backend "s3"! Terraform will automatically
12:18:58  use this backend unless the backend configuration changes.
12:18:59  Initializing modules...
12:18:59  Downloading git::https://github.sys.cigna.com/cigna/thub-gov-terraform-kms.git for bef-presigned-url-kms...
12:18:59  - bef-presigned-url-kms in .terraform/modules/bef-presigned-url-kms
12:18:59  Downloading git::https://github.sys.cigna.com/cigna/terraform-aws-s3 for bef-storage-s3...
12:19:03  - bef-storage-s3 in .terraform/modules/bef-storage-s3
12:19:03  Downloading git::https://github.sys.cigna.com/cigna/lambda.git?ref=1.4.0 for callback-lambda...
12:19:03  - callback-lambda in .terraform/modules/callback-lambda
12:19:03  Downloading git::https://github.sys.cigna.com/cigna/lambda.git?ref=1.4.0 for presigned-url-lambda...
12:19:03  - presigned-url-lambda in .terraform/modules/presigned-url-lambda
12:19:03  Downloading git::https://github.sys.cigna.com/cigna/AWS-GoldenVPC.git?ref=0.7.0 for presigned-url-vpc...
12:19:21  - presigned-url-vpc in .terraform/modules/presigned-url-vpc
12:19:21  - presigned-url-vpc.nat_gateway in .terraform/modules/presigned-url-vpc/submodules/nat_gateway
12:19:21  - presigned-url-vpc.subnets_non_routable in .terraform/modules/presigned-url-vpc/submodules/subnets
12:19:21  - presigned-url-vpc.subnets_routable in .terraform/modules/presigned-url-vpc/submodules/subnets
12:19:21  
12:19:21  Initializing provider plugins...
12:19:21  - terraform.io/builtin/terraform is built in to Terraform
12:19:21  - Finding hashicorp/aws versions matching ">= 3.43.0, >= 3.45.0, >= 4.0.0, >= 4.35.0, ~> 5.0"...
12:19:21  - Finding latest version of hashicorp/archive...
12:19:21  - Installing hashicorp/aws v5.86.1...
12:20:00  - Installed hashicorp/aws v5.86.1 (signed by HashiCorp)
12:20:00  - Installing hashicorp/archive v2.7.0...
12:20:00  - Installed hashicorp/archive v2.7.0 (signed by HashiCorp)
12:20:00  
12:20:00  Terraform has created a lock file .terraform.lock.hcl to record the provider
12:20:00  selections it made above. Include this file in your version control repository
12:20:00  so that Terraform can guarantee to make the same selections by default when
12:20:00  you run "terraform init" in the future.
12:20:00  
12:20:00  Terraform has been successfully initialized!
12:20:00  
12:20:00  You may now begin working with Terraform. Try running "terraform plan" to see
12:20:00  any changes that are required for your infrastructure. All Terraform commands
12:20:00  should now work.
12:20:00  
12:20:00  If you ever set or change modules or backend configuration for Terraform,
12:20:00  rerun this command to reinitialize your working directory. If you forget, other
12:20:00  commands will detect it and remind you to do so if necessary.
12:20:00  
12:20:00  terraform init successful
12:20:00  - Using Var File: envs/dev-candidate/dev-candidate.tfvars
12:20:00  
12:20:00  Planning...
12:20:00  - Terraform Working Directory: /home/jenkins/agent/workspace/bef-intentapi_feature-PBBEF-1571
12:20:00  - Terraform Config Directory: envs/dev-candidate
12:20:00  terraform plan -no-color -input=false -var-file=envs/dev-candidate/dev-candidate.tfvars  
12:20:27  module.presigned-url-vpc.terraform_data.subnet_validation: Refreshing state... [id=93537918-c08b-940d-2a09-b00a3f05ac83]
12:20:27  data.archive_file.callback-lambda-code: Reading...
12:20:27  data.archive_file.presigned-url-code: Reading...
12:20:27  data.archive_file.presigned-url-code: Read complete after 0s [id=4e1b3bbeea6e0c8e7281964da11adc6e7d50cc6e]
12:20:27  data.archive_file.callback-lambda-code: Read complete after 0s [id=2f39bf1826dad6aca6982d5cb5685d6f97c92184]
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.org_centralized_logging_role: Reading...
12:20:37  data.aws_lambda_layer_version.request_layer: Reading...
12:20:37  module.presigned-url-vpc.data.aws_default_tags.provider_tags: Reading...
12:20:37  module.presigned-url-vpc.data.aws_iam_account_alias.current: Reading...
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_query_log_config_id: Reading...
12:20:37  module.presigned-url-vpc.data.aws_ec2_managed_prefix_list.prefix_list_health_services: Reading...
12:20:37  module.presigned-url-vpc.data.aws_availability_zones.available_zones: Reading...
12:20:37  module.presigned-url-vpc.data.aws_vpc_endpoint_service.gateways["s3"]: Reading...
12:20:37  module.presigned-url-vpc.data.aws_default_tags.provider_tags: Read complete after 0s [id=aws]
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.transit_gateway_id: Reading...
12:20:37  data.aws_iam_role.bef_lambda_callback_role: Reading...
12:20:37  data.aws_iam_role.bef_lambda_callback_role: Read complete after 0s [id=BEFStorageSolutionLambdaCallback]
12:20:37  module.presigned-url-vpc.data.aws_iam_account_alias.current: Read complete after 0s [id=hs-upsilon-fries-dev]
12:20:37  data.aws_ssm_parameter.org_logging_role: Reading...
12:20:37  module.presigned-url-vpc.data.aws_region.current: Reading...
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.org_centralized_logging_role: Read complete after 1s [id=/Enterprise/OrgCentralLoggingRole]
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.transit_gateway_id: Read complete after 1s [id=/Enterprise/TgwId]
12:20:37  module.presigned-url-vpc.data.aws_region.current: Read complete after 1s [id=us-east-2]
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_query_log_config_id: Read complete after 1s [id=/Enterprise/Route53QueryLoggingConfigId]
12:20:37  module.presigned-url-vpc.data.aws_availability_zones.available_zones: Read complete after 1s [id=us-east-2]
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.org_centralized_logging_arn: Reading...
12:20:37  data.aws_ssm_parameter.org_logging_arn: Reading...
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.route53_default_zone_ids["Cigna"]: Reading...
12:20:37  module.presigned-url-vpc.data.aws_vpc_endpoint_service.interfaces["secretsmanager"]: Reading...
12:20:37  module.presigned-url-vpc.data.aws_vpc_endpoint_service.gateways["s3"]: Read complete after 1s [id=421398876]
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.route53_default_zone_ids["Evernorthcloud"]: Reading...
12:20:37  module.presigned-url-lambda.aws_cloudwatch_metric_alarm.warn_throttles[0]: Refreshing state... [id=bef-presigned-url-candidate-WARN-Lambda-Throttles]
12:20:37  data.aws_iam_policy_document.presigned-url-s3-endpoint-policy: Reading...
12:20:37  data.aws_ssm_parameter.org_logging_arn: Read complete after 0s [id=/Enterprise/OrgCentralLoggingDestinationArn]
12:20:37  data.aws_ssm_parameter.org_logging_role: Read complete after 1s [id=/Enterprise/OrgCentralLoggingRole]
12:20:37  module.bef-presigned-url-kms.data.aws_caller_identity.current: Reading...
12:20:37  data.aws_iam_policy_document.presigned-url-s3-endpoint-policy: Read complete after 0s [id=2750445730]
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["PrivatelinkSnowflakecomputingComRegionless"]: Reading...
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["CignatestCom"]: Reading...
12:20:37  module.presigned-url-vpc.data.aws_vpc_endpoint_service.interfaces["secretsmanager"]: Read complete after 0s [id=2400593449]
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.route53_default_zone_ids["Cigna"]: Read complete after 0s [id=/Enterprise/PrivateHostedZoneId]
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.org_centralized_logging_arn: Read complete after 0s [id=/Enterprise/OrgCentralLoggingDestinationArn]
12:20:37  module.bef-presigned-url-kms.data.aws_caller_identity.current: Read complete after 0s [id=364685145795]
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.route53_default_zone_ids["Evernorthcloud"]: Read complete after 0s [id=/Enterprise/EvernorthcloudPrivateHostedZoneId]
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["UsEast1ConfluentCloud"]: Reading...
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["SilverCom"]: Reading...
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["AccountsRootCorp"]: Reading...
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["ExpressScriptsCom"]: Reading...
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["PrivatelinkSnowflakecomputingCom"]: Reading...
12:20:37  module.presigned-url-vpc.data.aws_ec2_managed_prefix_list.prefix_list_health_services: Read complete after 1s [id=pl-0ee74e3f81925a429]
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["CignatestCom"]: Read complete after 0s [id=/Enterprise/Route53ResolverRuleIdCignatestCom]
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["UsEast1ConfluentCloud"]: Read complete after 0s [id=/Enterprise/Route53ResolverRuleIdUsEast1ConfluentCloud]
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["PrivatelinkSnowflakecomputingComRegionless"]: Read complete after 0s [id=/Enterprise/Route53ResolverRuleIdPrivatelinkSnowflakecomputingComRegionless]
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["OpenshiftCignacloudCom"]: Reading...
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["MedcoCom"]: Reading...
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["AwsCignacloudCom"]: Reading...
12:20:37  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["AwsEvernorthcloudCom"]: Reading...
12:20:38  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["AccountsRootCorp"]: Read complete after 0s [id=/Enterprise/Route53ResolverRuleIdAccountsRootCorp]
12:20:38  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["SilverCom"]: Read complete after 0s [id=/Enterprise/Route53ResolverRuleIdSilverCom]
12:20:38  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["PrivatelinkSnowflakecomputingCom"]: Read complete after 0s [id=/Enterprise/Route53ResolverRuleIdPrivatelinkSnowflakecomputingCom]
12:20:38  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["ExpressScriptsIo"]: Reading...
12:20:38  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["CignaCom"]: Reading...
12:20:38  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["CignaEnvoy"]: Reading...
12:20:38  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["ExpressScriptsCom"]: Read complete after 0s [id=/Enterprise/Route53ResolverRuleIdExpressScriptsCom]
12:20:38  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["OpenshiftEvernorthcloudCom"]: Reading...
12:20:38  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["OpenshiftCignacloudCom"]: Read complete after 0s [id=/Enterprise/Route53ResolverRuleIdOpenshiftCignacloudCom]
12:20:38  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["AwsCignacloudCom"]: Read complete after 0s [id=/Enterprise/Route53ResolverRuleIdAwsCignacloudCom]
12:20:38  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["MedcoCom"]: Read complete after 0s [id=/Enterprise/Route53ResolverRuleIdMedcoCom]
12:20:38  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["AwsEvernorthcloudCom"]: Read complete after 0s [id=/Enterprise/Route53ResolverRuleIdAwsEvernorthcloudCom]
12:20:38  module.presigned-url-lambda.aws_cloudwatch_log_group.log_group: Refreshing state... [id=/aws/lambda/bef-presigned-url-candidate]
12:20:38  module.bef-storage-s3.data.aws_iam_account_alias.current: Reading...
12:20:38  module.presigned-url-lambda.aws_cloudwatch_metric_alarm.info_throttles[0]: Refreshing state... [id=bef-presigned-url-candidate-INFO-Lambda-Throttles]
12:20:38  module.presigned-url-lambda.aws_cloudwatch_metric_alarm.warn_error_rate[0]: Refreshing state... [id=bef-presigned-url-candidate-WARN-Lambda-Errors]
12:20:38  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["ExpressScriptsIo"]: Read complete after 0s [id=/Enterprise/Route53ResolverRuleIdExpressScriptsIo]
12:20:38  data.aws_caller_identity.current: Reading...
12:20:38  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["CignaEnvoy"]: Read complete after 0s [id=/Enterprise/Route53ResolverRuleIdCignaEnvoy]
12:20:38  module.bef-storage-s3.data.aws_iam_account_alias.current: Read complete after 0s [id=hs-upsilon-fries-dev]
12:20:38  data.aws_iam_role.bef_lambda_role: Reading...
12:20:38  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["CignaCom"]: Read complete after 0s [id=/Enterprise/Route53ResolverRuleIdCignaCom]
12:20:38  data.aws_caller_identity.current: Read complete after 0s [id=364685145795]
12:20:38  module.presigned-url-vpc.data.aws_ssm_parameter.route53_resolver_rule_ids["OpenshiftEvernorthcloudCom"]: Read complete after 0s [id=/Enterprise/Route53ResolverRuleIdOpenshiftEvernorthcloudCom]
12:20:38  module.presigned-url-vpc.data.aws_ssm_parameters_by_path.route53_as_a_service_zones_by_path: Reading...
12:20:38  data.aws_region.current_region: Reading...
12:20:38  module.presigned-url-vpc.data.aws_caller_identity.current: Reading...
12:20:38  data.aws_region.current_region: Read complete after 0s [id=us-east-2]
12:20:38  module.presigned-url-lambda.aws_cloudwatch_metric_alarm.critical_throttles[0]: Refreshing state... [id=bef-presigned-url-candidate-CRITICAL-Lambda-Throttles]
12:20:38  module.presigned-url-lambda.aws_cloudwatch_metric_alarm.critical_error_rate[0]: Refreshing state... [id=bef-presigned-url-candidate-CRITICAL-Lambda-Errors]
12:20:38  module.presigned-url-vpc.data.aws_ssm_parameters_by_path.route53_as_a_service_zones_by_path: Read complete after 0s [id=/HermesManaged/Route53AsAService/PrivateHostedZoneId/]
12:20:38  data.aws_iam_role.bef_lambda_role: Read complete after 0s [id=BEFStorageSolution]
12:20:38  module.presigned-url-vpc.data.aws_caller_identity.current: Read complete after 0s [id=364685145795]
12:20:38  module.presigned-url-lambda.aws_cloudwatch_metric_alarm.info_error_rate[0]: Refreshing state... [id=bef-presigned-url-candidate-INFO-Lambda-Errors]
12:20:38  module.presigned-url-vpc.terraform_data.tag_validation: Refreshing state... [id=37800964-fd87-8c7d-897f-370dd46eeec4]
12:20:38  module.presigned-url-vpc.terraform_data.environment_validation: Refreshing state... [id=0f6ac34f-a421-fcbf-a26f-08b265a98c5f]
12:20:38  module.presigned-url-vpc.data.aws_iam_policy_document.centralized_logging_role_policy: Reading...
12:20:38  module.presigned-url-vpc.data.aws_iam_policy_document.endpoint_gateway_policy_s3: Reading...
12:20:38  module.presigned-url-vpc.data.aws_iam_policy_document.centralized_logging_role_policy: Read complete after 0s [id=4259938867]
12:20:38  module.presigned-url-vpc.data.aws_iam_policy_document.endpoint_gateway_policy_s3: Read complete after 0s [id=1411051261]
12:20:38  data.aws_iam_policy_document.presigned-url-kms-iam-policy: Reading...
12:20:38  module.presigned-url-vpc.terraform_data.availability_zone_validation: Refreshing state... [id=ca590138-58e9-8271-b422-c26644ea8475]
12:20:38  module.presigned-url-vpc.terraform_data.endpoint_validation: Refreshing state... [id=dd5c24e0-fe3c-6782-92ab-28bfb02782e2]
12:20:38  data.aws_iam_policy_document.presigned-url-kms-iam-policy: Read complete after 0s [id=1940738493]
12:20:38  module.presigned-url-vpc.data.aws_iam_policy_document.endpoint_gateway_policy["s3"]: Reading...
12:20:38  module.presigned-url-vpc.data.aws_iam_policy_document.endpoint_interface_policy["secretsmanager"]: Reading...
12:20:38  module.presigned-url-vpc.aws_vpc_dhcp_options.dhcp_options[0]: Refreshing state... [id=dopt-0e7a77f562425f182]
12:20:38  module.presigned-url-vpc.aws_vpc.vpc: Refreshing state... [id=vpc-002df5c36bd80a47e]
12:20:38  data.aws_iam_policy_document.presigned-url-s3-policy: Reading...
12:20:38  module.presigned-url-vpc.data.aws_iam_policy_document.endpoint_gateway_policy["s3"]: Read complete after 0s [id=1022365009]
12:20:38  data.aws_iam_policy_document.presigned-url-s3-policy: Read complete after 0s [id=67042431]
12:20:38  module.presigned-url-vpc.data.aws_iam_policy_document.endpoint_interface_policy["secretsmanager"]: Read complete after 0s [id=431242839]
12:20:38  module.bef-presigned-url-kms.aws_kms_key.key: Refreshing state... [id=2122ef1f-2d29-42a5-95ed-059c7093a348]
12:20:38  module.bef-storage-s3.aws_s3_bucket.this: Refreshing state... [id=bef-storage-candidate-364685145795]
12:20:38  module.presigned-url-vpc.aws_vpc_dhcp_options_association.dhcp_association[0]: Refreshing state... [id=dopt-0e7a77f562425f182-vpc-002df5c36bd80a47e]
12:20:38  module.presigned-url-vpc.aws_route53_zone_association.route53_as_a_service_associations["bef-frontend-ui-dev.aws.evernorthcloud.com"]: Refreshing state... [id=Z0593329306J91VLAME1S:vpc-002df5c36bd80a47e:us-east-1]
12:20:38  module.presigned-url-vpc.aws_default_route_table.default: Refreshing state... [id=rtb-07dbd6f19f0b7db7a]
12:20:38  module.presigned-url-vpc.aws_kms_key.flow_log_key: Refreshing state... [id=8b3854e5-9124-4f38-83da-bdeda6625c72]
12:20:38  module.presigned-url-vpc.aws_route53_resolver_query_log_config_association.query_log_config_association[0]: Refreshing state... [id=rqlca-1c4c2e90f086488e]
12:20:38  module.presigned-url-vpc.aws_route53_zone_association.default_associations["Cigna"]: Refreshing state... [id=Z0503924248Z5Y01NGHT0:vpc-002df5c36bd80a47e:us-east-1]
12:20:38  module.presigned-url-vpc.aws_route53_zone_association.default_associations["Evernorthcloud"]: Refreshing state... [id=Z09861373L6XGPTENPZK7:vpc-002df5c36bd80a47e:us-east-1]
12:20:38  module.presigned-url-vpc.aws_vpc_ipv4_cidr_block_association.secondaries_non_routable["100.126.1.0/27"]: Refreshing state... [id=vpc-cidr-assoc-0d434f5ec6a0cacc5]
12:20:39  module.presigned-url-vpc.aws_default_security_group.default: Refreshing state... [id=sg-03aea5205cbe9da68]
12:20:39  module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["CignatestCom"]: Refreshing state... [id=rslvr-rrassoc-b3d969d959984569b]
12:20:39  module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["AwsEvernorthcloudCom"]: Refreshing state... [id=rslvr-rrassoc-dfac53e3fef34f31a]
12:20:39  module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["AwsCignacloudCom"]: Refreshing state... [id=rslvr-rrassoc-3a4d0ce55c354541b]
12:20:39  module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["UsEast1ConfluentCloud"]: Refreshing state... [id=rslvr-rrassoc-eccac5cd2a664fa39]
12:20:39  module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["SilverCom"]: Refreshing state... [id=rslvr-rrassoc-71d7391133944dfb9]
12:20:39  module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["PrivatelinkSnowflakecomputingCom"]: Refreshing state... [id=rslvr-rrassoc-288e80b7b2124aa88]
12:20:39  module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["OpenshiftEvernorthcloudCom"]: Refreshing state... [id=rslvr-rrassoc-230569bea20b4ea08]
12:20:39  module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["CignaCom"]: Refreshing state... [id=rslvr-rrassoc-fc213e7caf5143da9]
12:20:39  module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["OpenshiftCignacloudCom"]: Refreshing state... [id=rslvr-rrassoc-97b36678aad2411ab]
12:20:39  module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["PrivatelinkSnowflakecomputingComRegionless"]: Refreshing state... [id=rslvr-rrassoc-518221792d8341db9]
12:20:39  module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["MedcoCom"]: Refreshing state... [id=rslvr-rrassoc-a2123cef4dd842d0a]
12:20:39  module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["CignaEnvoy"]: Refreshing state... [id=rslvr-rrassoc-6e00961781c04427a]
12:20:39  module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["ExpressScriptsCom"]: Refreshing state... [id=rslvr-rrassoc-6f64094a98ff45ef8]
12:20:39  module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["ExpressScriptsIo"]: Refreshing state... [id=rslvr-rrassoc-5ad2358a20584ed4a]
12:20:39  module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["AccountsRootCorp"]: Refreshing state... [id=rslvr-rrassoc-d42ba96f43ec4d09a]
12:20:39  module.presigned-url-vpc.module.subnets_routable["10.190.251.0/27"].terraform_data.availability_zone_validation: Refreshing state... [id=8855711a-30c0-83f7-94f8-445cb8a66f63]
12:20:39  module.bef-presigned-url-kms.aws_kms_alias.key: Refreshing state... [id=alias/bef-presigned-url-kms-candidate]
12:20:39  module.presigned-url-vpc.module.subnets_routable["10.190.251.0/27"].terraform_data.tag_validation: Refreshing state... [id=850dd209-c74b-5650-1b21-39713795df9f]
12:20:39  module.presigned-url-vpc.aws_kms_alias.flow_log_key_alias: Refreshing state... [id=alias/presigned-url-candidate-flow-logs-key]
12:20:39  module.presigned-url-vpc.module.subnets_non_routable["100.126.1.0/27"].terraform_data.tag_validation: Refreshing state... [id=d4994e5e-4b14-e8a0-d0e1-39a35ca89b97]
12:20:39  module.presigned-url-vpc.aws_iam_role.flow_logs_role: Refreshing state... [id=golden-vpc-flow-logs-vpc-002df5c36bd80a47e]
12:20:39  module.presigned-url-vpc.module.subnets_non_routable["100.126.1.0/27"].terraform_data.availability_zone_validation: Refreshing state... [id=fca04f63-98ad-da4d-fa44-7584adae1215]
12:20:40  module.presigned-url-vpc.module.subnets_routable["10.190.251.0/27"].aws_subnet.subnets[0]: Refreshing state... [id=subnet-0d886adcbf8c12e8e]
12:20:40  module.presigned-url-vpc.module.subnets_routable["10.190.251.0/27"].aws_subnet.subnets[1]: Refreshing state... [id=subnet-07612006d5ba5257d]
12:20:40  module.presigned-url-vpc.aws_kms_key_policy.flow_log_key_policy: Refreshing state... [id=8b3854e5-9124-4f38-83da-bdeda6625c72]
12:20:40  module.presigned-url-vpc.module.subnets_non_routable["100.126.1.0/27"].aws_subnet.subnets[0]: Refreshing state... [id=subnet-09170abe3427dfdfc]
12:20:40  module.presigned-url-vpc.module.subnets_non_routable["100.126.1.0/27"].aws_subnet.subnets[1]: Refreshing state... [id=subnet-0c25a0008e3055587]
12:20:40  module.presigned-url-vpc.aws_cloudwatch_log_group.flow_log_group: Refreshing state... [id=presigned-url-candidate-golden-vpc-flow-log-vpc-002df5c36bd80a47e20240904185918586400000001]
12:20:40  module.presigned-url-vpc.aws_cloudwatch_log_subscription_filter.splunk: Refreshing state... [id=cwlsf-3911521950]
12:20:40  module.presigned-url-vpc.terraform_data.nat_gateway_validation: Refreshing state... [id=043581cf-b5bd-8689-e9dc-670f89b7fa07]
12:20:40  module.presigned-url-vpc.aws_flow_log.flow_log: Refreshing state... [id=fl-0cdafcb6764969c41]
12:20:40  module.presigned-url-vpc.aws_ec2_transit_gateway_vpc_attachment.tgw_attachment[0]: Refreshing state... [id=tgw-attach-0bfea47af109b9aa1]
12:20:40  module.presigned-url-vpc.aws_vpc_endpoint.gateways["s3"]: Refreshing state... [id=vpce-0c28889149368a830]
12:20:40  module.presigned-url-vpc.aws_default_network_acl.default: Refreshing state... [id=acl-0bebddbf670443daa]
12:20:40  module.presigned-url-vpc.aws_vpc_endpoint_policy.gateway_policies["s3"]: Refreshing state... [id=vpce-0c28889149368a830]
12:20:40  aws_security_group.presigned-url-sg: Refreshing state... [id=sg-005c8804507d85fba]
12:20:41  module.presigned-url-lambda.aws_lambda_function.lambda: Refreshing state... [id=bef-presigned-url-candidate]
12:20:41  aws_lambda_permission.authinator_permission: Refreshing state... [id=GATEWAY]
12:20:42  
12:20:42  Note: Objects have changed outside of Terraform
12:20:42  
12:20:42  Terraform detected the following changes made outside of Terraform since the
12:20:42  last "terraform apply" which may have affected this plan:
12:20:42  
12:20:42    # aws_security_group.presigned-url-sg has been deleted
12:20:42    - resource "aws_security_group" "presigned-url-sg" {
12:20:42        - id                     = "sg-005c8804507d85fba" -> null
12:20:42          name                   = "presigned-url-sg-sandidate"
12:20:42          tags                   = {
12:20:42              "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42              "BackupOwner"      = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42              "CostCenter"       = "60031096"
12:20:42              "Environment"      = "dev-candidate"
12:20:42              "Name"             = "presigned-url-sg-sandidate"
12:20:42              "Purpose"          = "BEF-Artifacts Storage Solution"
12:20:42              "SecurityReviewID" = "NOT APPLICABLE"
12:20:42              "ServiceNowAS"     = "AS050854"
12:20:42              "ServiceNowBA"     = "BA14783"
12:20:42          }
12:20:42          # (8 unchanged attributes hidden)
12:20:42      }
12:20:42  
12:20:42    # module.bef-presigned-url-kms.aws_kms_alias.key has been deleted
12:20:42    - resource "aws_kms_alias" "key" {
12:20:42        - arn            = "arn:aws:kms:us-east-1:364685145795:alias/bef-presigned-url-kms-candidate" -> null
12:20:42          id             = "alias/bef-presigned-url-kms-candidate"
12:20:42        - name           = "alias/bef-presigned-url-kms-candidate" -> null
12:20:42          # (2 unchanged attributes hidden)
12:20:42      }
12:20:42  
12:20:42    # module.bef-presigned-url-kms.aws_kms_key.key has been deleted
12:20:42    - resource "aws_kms_key" "key" {
12:20:42        - arn                                = "arn:aws:kms:us-east-1:364685145795:key/2122ef1f-2d29-42a5-95ed-059c7093a348" -> null
12:20:42          id                                 = "2122ef1f-2d29-42a5-95ed-059c7093a348"
12:20:42        - key_id                             = "2122ef1f-2d29-42a5-95ed-059c7093a348" -> null
12:20:42          tags                               = {
12:20:42              "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42              "BackupOwner"      = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42              "CostCenter"       = "60031096"
12:20:42              "Environment"      = "dev-candidate"
12:20:42              "Purpose"          = "BEF-Artifacts Storage Solution"
12:20:42              "SecurityReviewID" = "NOT APPLICABLE"
12:20:42              "ServiceNowAS"     = "AS050854"
12:20:42              "ServiceNowBA"     = "BA14783"
12:20:42          }
12:20:42          # (11 unchanged attributes hidden)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-lambda.aws_cloudwatch_log_group.log_group has been deleted
12:20:42    - resource "aws_cloudwatch_log_group" "log_group" {
12:20:42        - arn               = "arn:aws:logs:us-east-1:364685145795:log-group:/aws/lambda/bef-presigned-url-candidate" -> null
12:20:42        - id                = "/aws/lambda/bef-presigned-url-candidate" -> null
12:20:42        - log_group_class   = "STANDARD" -> null
12:20:42        - name              = "/aws/lambda/bef-presigned-url-candidate" -> null
12:20:42        - retention_in_days = 30 -> null
12:20:42        - skip_destroy      = false -> null
12:20:42        - tags              = {
12:20:42            - "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            - "BackupOwner"      = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            - "CostCenter"       = "60031096"
12:20:42            - "Environment"      = "dev-candidate"
12:20:42            - "Purpose"          = "BEF-Artifacts Storage Solution"
12:20:42            - "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            - "ServiceNowAS"     = "AS050854"
12:20:42            - "ServiceNowBA"     = "BA14783"
12:20:42          } -> null
12:20:42        - tags_all          = {
12:20:42            - "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            - "BackupOwner"      = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            - "CostCenter"       = "60031096"
12:20:42            - "Environment"      = "dev-candidate"
12:20:42            - "Purpose"          = "BEF-Artifacts Storage Solution"
12:20:42            - "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            - "ServiceNowAS"     = "AS050854"
12:20:42            - "ServiceNowBA"     = "BA14783"
12:20:42          } -> null
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-lambda.aws_lambda_function.lambda has been deleted
12:20:42    - resource "aws_lambda_function" "lambda" {
12:20:42        - arn                            = "arn:aws:lambda:us-east-1:364685145795:function:bef-presigned-url-candidate" -> null
12:20:42        - function_name                  = "bef-presigned-url-candidate" -> null
12:20:42          id                             = "bef-presigned-url-candidate"
12:20:42        - invoke_arn                     = "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:364685145795:function:bef-presigned-url-candidate/invocations" -> null
12:20:42          tags                           = {
12:20:42              "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42              "BackupOwner"      = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42              "CostCenter"       = "60031096"
12:20:42              "Environment"      = "dev-candidate"
12:20:42              "Purpose"          = "BEF-Artifacts Storage Solution"
12:20:42              "SecurityReviewID" = "NOT APPLICABLE"
12:20:42              "ServiceNowAS"     = "AS050854"
12:20:42              "ServiceNowBA"     = "BA14783"
12:20:42          }
12:20:42        - version                        = "$LATEST" -> null
12:20:42          # (20 unchanged attributes hidden)
12:20:42  
12:20:42          # (5 unchanged blocks hidden)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_cloudwatch_log_group.flow_log_group has been deleted
12:20:42    - resource "aws_cloudwatch_log_group" "flow_log_group" {
12:20:42        - arn               = "arn:aws:logs:us-east-1:364685145795:log-group:presigned-url-candidate-golden-vpc-flow-log-vpc-002df5c36bd80a47e20240904185918586400000001" -> null
12:20:42          id                = "presigned-url-candidate-golden-vpc-flow-log-vpc-002df5c36bd80a47e20240904185918586400000001"
12:20:42        - name              = "presigned-url-candidate-golden-vpc-flow-log-vpc-002df5c36bd80a47e20240904185918586400000001" -> null
12:20:42          tags              = {
12:20:42              "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42              "CostCenter"       = "60031096"
12:20:42              "SecurityReviewID" = "NOT APPLICABLE"
12:20:42              "ServiceNowAS"     = "AS050854"
12:20:42              "ServiceNowBA"     = "BA14783"
12:20:42              "Version"          = "0.7.0"
12:20:42          }
12:20:42          # (6 unchanged attributes hidden)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_default_route_table.default has been deleted
12:20:42    - resource "aws_default_route_table" "default" {
12:20:42        - id                     = "rtb-07dbd6f19f0b7db7a" -> null
12:20:42          tags                   = {
12:20:42              "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42              "CostCenter"       = "60031096"
12:20:42              "Name"             = "presigned-url-candidate-golden-vpc-default-route-table"
12:20:42              "SecurityReviewID" = "NOT APPLICABLE"
12:20:42              "ServiceNowAS"     = "AS050854"
12:20:42              "ServiceNowBA"     = "BA14783"
12:20:42              "Version"          = "0.7.0"
12:20:42          }
12:20:42          # (7 unchanged attributes hidden)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_ec2_transit_gateway_vpc_attachment.tgw_attachment[0] has been deleted
12:20:42    - resource "aws_ec2_transit_gateway_vpc_attachment" "tgw_attachment" {
12:20:42        - id                                              = "tgw-attach-0bfea47af109b9aa1" -> null
12:20:42          tags                                            = {
12:20:42              "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42              "CostCenter"       = "60031096"
12:20:42              "Name"             = "presigned-url-candidate-golden-vpc-tgw-vpc-002df5c36bd80a47e"
12:20:42              "SecurityReviewID" = "NOT APPLICABLE"
12:20:42              "ServiceNowAS"     = "AS050854"
12:20:42              "ServiceNowBA"     = "BA14783"
12:20:42              "Version"          = "0.7.0"
12:20:42          }
12:20:42          # (11 unchanged attributes hidden)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_kms_key.flow_log_key has been deleted
12:20:42    - resource "aws_kms_key" "flow_log_key" {
12:20:42        - arn                                = "arn:aws:kms:us-east-1:364685145795:key/8b3854e5-9124-4f38-83da-bdeda6625c72" -> null
12:20:42        - id                                 = "8b3854e5-9124-4f38-83da-bdeda6625c72" -> null
12:20:42        - key_id                             = "8b3854e5-9124-4f38-83da-bdeda6625c72" -> null
12:20:42          tags                               = {
12:20:42              "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42              "CostCenter"       = "60031096"
12:20:42              "SecurityReviewID" = "NOT APPLICABLE"
12:20:42              "ServiceNowAS"     = "AS050854"
12:20:42              "ServiceNowBA"     = "BA14783"
12:20:42              "Version"          = "0.7.0"
12:20:42          }
12:20:42          # (10 unchanged attributes hidden)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_vpc.vpc has been deleted
12:20:42    - resource "aws_vpc" "vpc" {
12:20:42        - default_network_acl_id               = "acl-0bebddbf670443daa" -> null
12:20:42        - default_route_table_id               = "rtb-07dbd6f19f0b7db7a" -> null
12:20:42        - id                                   = "vpc-002df5c36bd80a47e" -> null
12:20:42          tags                                 = {
12:20:42              "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42              "CostCenter"       = "60031096"
12:20:42              "Name"             = "presigned-url-candidate-golden-vpc"
12:20:42              "SecurityReviewID" = "NOT APPLICABLE"
12:20:42              "ServiceNowAS"     = "AS050854"
12:20:42              "ServiceNowBA"     = "BA14783"
12:20:42              "Version"          = "0.7.0"
12:20:42          }
12:20:42          # (13 unchanged attributes hidden)
12:20:42      }
12:20:42  
12:20:42  
12:20:42  Unless you have made equivalent changes to your configuration, or ignored the
12:20:42  relevant attributes using ignore_changes, the following plan may include
12:20:42  actions to undo or respond to these changes.
12:20:42  
12:20:42  ─────────────────────────────────────────────────────────────────────────────
12:20:42  
12:20:42  Terraform used the selected providers to generate the following execution
12:20:42  plan. Resource actions are indicated with the following symbols:
12:20:42    + create
12:20:42    - destroy
12:20:42  -/+ destroy and then create replacement
12:20:42   <= read (data resources)
12:20:42  
12:20:42  Terraform planned the following actions, but then encountered a problem:
12:20:42  
12:20:42    # aws_cloudwatch_event_rule.bef-file-create-rule will be created
12:20:42    + resource "aws_cloudwatch_event_rule" "bef-file-create-rule" {
12:20:42        + arn            = (known after apply)
12:20:42        + event_bus_name = "default"
12:20:42        + event_pattern  = jsonencode(
12:20:42              {
12:20:42                + detail      = {
12:20:42                    + bucket = {
12:20:42                        + name = [
12:20:42                            + "bef-storage-candidates-364685145795",
12:20:42                          ]
12:20:42                      }
12:20:42                  }
12:20:42                + detail-type = [
12:20:42                    + "Object Created",
12:20:42                  ]
12:20:42                + source      = [
12:20:42                    + "aws.s3",
12:20:42                  ]
12:20:42              }
12:20:42          )
12:20:42        + force_destroy  = false
12:20:42        + id             = (known after apply)
12:20:42        + name           = "bef_storage_file_creation_notification"
12:20:42        + name_prefix    = (known after apply)
12:20:42        + tags_all       = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # aws_cloudwatch_log_subscription_filter.example will be created
12:20:42    + resource "aws_cloudwatch_log_subscription_filter" "example" {
12:20:42        + destination_arn = (sensitive value)
12:20:42        + distribution    = "Random"
12:20:42        + id              = (known after apply)
12:20:42        + log_group_name  = "/aws/lambda/bef-presigned-url-candidate"
12:20:42        + name            = "bef-presigned-url-candidate-subscription_filter"
12:20:42        + role_arn        = (sensitive value)
12:20:42      }
12:20:42  
12:20:42    # aws_lambda_permission.authinator_permission will be created
12:20:42    + resource "aws_lambda_permission" "authinator_permission" {
12:20:42        + action              = "lambda:InvokeFunction"
12:20:42        + function_name       = "bef-presigned-url-candidate"
12:20:42        + id                  = (known after apply)
12:20:42        + principal           = "arn:aws:iam::178278630275:role/GATEWAY"
12:20:42        + statement_id        = "GATEWAY"
12:20:42        + statement_id_prefix = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # aws_s3_bucket_notification.enable-eventbridge-notification will be created
12:20:42    + resource "aws_s3_bucket_notification" "enable-eventbridge-notification" {
12:20:42        + bucket      = "bef-storage-candidates-364685145795"
12:20:42        + eventbridge = true
12:20:42        + id          = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # aws_security_group.presigned-url-sg will be created
12:20:42    + resource "aws_security_group" "presigned-url-sg" {
12:20:42        + arn                    = (known after apply)
12:20:42        + description            = "Allow TCP Traffics to and from port 443"
12:20:42        + egress                 = [
12:20:42            + {
12:20:42                + cidr_blocks      = [
12:20:42                    + "10.0.0.0/8",
12:20:42                  ]
12:20:42                + description      = ""
12:20:42                + from_port        = 443
12:20:42                + ipv6_cidr_blocks = []
12:20:42                + prefix_list_ids  = (known after apply)
12:20:42                + protocol         = "tcp"
12:20:42                + security_groups  = []
12:20:42                + self             = false
12:20:42                + to_port          = 443
12:20:42              },
12:20:42          ]
12:20:42        + id                     = (known after apply)
12:20:42        + ingress                = [
12:20:42            + {
12:20:42                + cidr_blocks      = [
12:20:42                    + "10.0.0.0/8",
12:20:42                  ]
12:20:42                + description      = ""
12:20:42                + from_port        = 443
12:20:42                + ipv6_cidr_blocks = []
12:20:42                + prefix_list_ids  = []
12:20:42                + protocol         = "tcp"
12:20:42                + security_groups  = []
12:20:42                + self             = false
12:20:42                + to_port          = 443
12:20:42              },
12:20:42          ]
12:20:42        + name                   = "presigned-url-sg-sandidate"
12:20:42        + name_prefix            = (known after apply)
12:20:42        + owner_id               = (known after apply)
12:20:42        + revoke_rules_on_delete = false
12:20:42        + tags                   = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "BackupOwner"      = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Environment"      = "dev-candidate"
12:20:42            + "Name"             = "presigned-url-sg-sandidate"
12:20:42            + "Purpose"          = "BEF-Artifacts Storage Solution"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42          }
12:20:42        + tags_all               = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "BackupOwner"      = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Environment"      = "dev-candidate"
12:20:42            + "Name"             = "presigned-url-sg-sandidate"
12:20:42            + "Purpose"          = "BEF-Artifacts Storage Solution"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42          }
12:20:42        + vpc_id                 = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.bef-presigned-url-kms.aws_kms_alias.key will be created
12:20:42    + resource "aws_kms_alias" "key" {
12:20:42        + arn            = (known after apply)
12:20:42        + id             = (known after apply)
12:20:42        + name           = "alias/bef-presigned-url-kms-candidate"
12:20:42        + name_prefix    = (known after apply)
12:20:42        + target_key_arn = (known after apply)
12:20:42        + target_key_id  = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.bef-presigned-url-kms.aws_kms_key.key will be created
12:20:42    + resource "aws_kms_key" "key" {
12:20:42        + arn                                = (known after apply)
12:20:42        + bypass_policy_lockout_safety_check = false
12:20:42        + customer_master_key_spec           = "SYMMETRIC_DEFAULT"
12:20:42        + deletion_window_in_days            = 30
12:20:42        + description                        = "BEF KMS to keep the data at rest encrypted for S3, SQS, Dynamo and ES Domain"
12:20:42        + enable_key_rotation                = true
12:20:42        + id                                 = (known after apply)
12:20:42        + is_enabled                         = true
12:20:42        + key_id                             = (known after apply)
12:20:42        + key_usage                          = "ENCRYPT_DECRYPT"
12:20:42        + multi_region                       = (known after apply)
12:20:42        + policy                             = jsonencode(
12:20:42              {
12:20:42                + Statement = [
12:20:42                    + {
12:20:42                        + Action    = "kms:*"
12:20:42                        + Effect    = "Allow"
12:20:42                        + Principal = {
12:20:42                            + AWS = "arn:aws:iam::364685145795:root"
12:20:42                          }
12:20:42                        + Resource  = "*"
12:20:42                        + Sid       = "Root Access"
12:20:42                      },
12:20:42                    + {
12:20:42                        + Action    = [
12:20:42                            + "kms:Update*",
12:20:42                            + "kms:UntagResource",
12:20:42                            + "kms:TagResource",
12:20:42                            + "kms:ScheduleKeyDeletion",
12:20:42                            + "kms:RotateKeyOnDemand",
12:20:42                            + "kms:Revoke*",
12:20:42                            + "kms:Put*",
12:20:42                            + "kms:List*",
12:20:42                            + "kms:Get*",
12:20:42                            + "kms:Enable*",
12:20:42                            + "kms:Disable*",
12:20:42                            + "kms:Describe*",
12:20:42                            + "kms:Delete*",
12:20:42                            + "kms:CreateAlias",
12:20:42                            + "kms:Create*",
12:20:42                            + "kms:CancelKeyDeletion",
12:20:42                          ]
12:20:42                        + Effect    = "Allow"
12:20:42                        + Principal = {
12:20:42                            + AWS = "arn:aws:iam::364685145795:role/DEPLOYER"
12:20:42                          }
12:20:42                        + Resource  = "*"
12:20:42                        + Sid       = "Key Administrator"
12:20:42                      },
12:20:42                    + {
12:20:42                        + Action    = [
12:20:42                            + "kms:ReEncrypt*",
12:20:42                            + "kms:GenerateDataKey*",
12:20:42                            + "kms:Encrypt",
12:20:42                            + "kms:DescribeKey",
12:20:42                            + "kms:Decrypt",
12:20:42                          ]
12:20:42                        + Effect    = "Allow"
12:20:42                        + Principal = {
12:20:42                            + AWS = [
12:20:42                                + "arn:aws:iam::364685145795:role/Enterprise/intentApiLambdaS3AccessPolicy",
12:20:42                                + "arn:aws:iam::364685145795:role/Enterprise/BEFStorageSolutionLambdaCallback",
12:20:42                                + "arn:aws:iam::364685145795:role/Enterprise/BEFStorageSolution",
12:20:42                                + "arn:aws:iam::364685145795:role/DEPLOYER",
12:20:42                              ]
12:20:42                          }
12:20:42                        + Resource  = "*"
12:20:42                        + Sid       = "User roles access"
12:20:42                      },
12:20:42                    + {
12:20:42                        + Action    = [
12:20:42                            + "kms:RevokeGrant",
12:20:42                            + "kms:ListGrants",
12:20:42                            + "kms:CreateGrant",
12:20:42                          ]
12:20:42                        + Effect    = "Allow"
12:20:42                        + Principal = {
12:20:42                            + AWS = [
12:20:42                                + "arn:aws:iam::364685145795:role/Enterprise/intentApiLambdaS3AccessPolicy",
12:20:42                                + "arn:aws:iam::364685145795:role/DEPLOYER",
12:20:42                              ]
12:20:42                          }
12:20:42                        + Resource  = "*"
12:20:42                        + Sid       = "Allow attachment of persistent resources"
12:20:42                      },
12:20:42                    + {
12:20:42                        + Action    = [
12:20:42                            + "kms:ReEncrypt*",
12:20:42                            + "kms:List*",
12:20:42                            + "kms:Get*",
12:20:42                            + "kms:GenerateDataKey*",
12:20:42                            + "kms:Encrypt",
12:20:42                            + "kms:DescribeKey",
12:20:42                            + "kms:Decrypt",
12:20:42                          ]
12:20:42                        + Condition = {
12:20:42                            + StringEquals = {
12:20:42                                + "kms:ViaService" = [
12:20:42                                    + "s3.us-east-1.amazonaws.com",
12:20:42                                    + "sqs.us-east-1.amazonaws.com",
12:20:42                                    + "dynamodb.*.amazonaws.com",
12:20:42                                  ]
12:20:42                              }
12:20:42                          }
12:20:42                        + Effect    = "Allow"
12:20:42                        + Principal = {
12:20:42                            + AWS = "364685145795"
12:20:42                          }
12:20:42                        + Resource  = "*"
12:20:42                        + Sid       = "Allow access through S3, Dynamo, SQS for current account"
12:20:42                      },
12:20:42                    + {
12:20:42                        + Action    = [
12:20:42                            + "kms:Get*",
12:20:42                            + "kms:DescribeKey",
12:20:42                            + "kms:Decrypt",
12:20:42                          ]
12:20:42                        + Condition = {
12:20:42                            + StringEquals = {
12:20:42                                + "kms:ViaService" = "s3.us-east-1.amazonaws.com"
12:20:42                              }
12:20:42                          }
12:20:42                        + Effect    = "Allow"
12:20:42                        + Principal = {
12:20:42                            + AWS = [
12:20:42                                + "arn:aws:iam::736713978530:role/hs-polaris-doc-splitter_lambda-dev-lambda-role",
12:20:42                                + "arn:aws:iam::736713978530:role/hs-polaris-doc-parser_lambda-dev-lambda-role",
12:20:42                                + "arn:aws:iam::736713978530:role/hs-polaris-doc-ingest_lambda-dev-lambda-role",
12:20:42                                + "arn:aws:iam::736713978530:role/get-presigned-url-role",
12:20:42                                + "arn:aws:iam::035074925037:role/UCLandzAccessrole",
12:20:42                              ]
12:20:42                          }
12:20:42                        + Resource  = "*"
12:20:42                        + Sid       = "Allow access through S3 for Polaris and Databricks"
12:20:42                      },
12:20:42                  ]
12:20:42                + Version   = "2012-10-17"
12:20:42              }
12:20:42          )
12:20:42        + rotation_period_in_days            = (known after apply)
12:20:42        + tags                               = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "BackupOwner"      = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Environment"      = "dev-candidate"
12:20:42            + "Purpose"          = "BEF-Artifacts Storage Solution"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42          }
12:20:42        + tags_all                           = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "BackupOwner"      = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Environment"      = "dev-candidate"
12:20:42            + "Purpose"          = "BEF-Artifacts Storage Solution"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42          }
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-lambda.aws_cloudwatch_log_group.log_group will be created
12:20:42    + resource "aws_cloudwatch_log_group" "log_group" {
12:20:42        + arn               = (known after apply)
12:20:42        + id                = (known after apply)
12:20:42        + log_group_class   = (known after apply)
12:20:42        + name              = "/aws/lambda/bef-presigned-url-candidate"
12:20:42        + name_prefix       = (known after apply)
12:20:42        + retention_in_days = 30
12:20:42        + skip_destroy      = false
12:20:42        + tags              = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "BackupOwner"      = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Environment"      = "dev-candidate"
12:20:42            + "Purpose"          = "BEF-Artifacts Storage Solution"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42          }
12:20:42        + tags_all          = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "BackupOwner"      = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Environment"      = "dev-candidate"
12:20:42            + "Purpose"          = "BEF-Artifacts Storage Solution"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42          }
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-lambda.aws_cloudwatch_metric_alarm.critical_error_rate[0] will be created
12:20:42    + resource "aws_cloudwatch_metric_alarm" "critical_error_rate" {
12:20:42        + actions_enabled                       = true
12:20:42        + alarm_actions                         = [
12:20:42            + "arn:aws:sns:us-east-1:929468956630:cloudwatch-alarm-funnel",
12:20:42          ]
12:20:42        + alarm_description                     = "dev-candidate|CRITICAL|bef-File-Storage-candidate|Lambda Error Rate > 20%"
12:20:42        + alarm_name                            = "bef-presigned-url-candidate-CRITICAL-Lambda-Errors"
12:20:42        + arn                                   = (known after apply)
12:20:42        + comparison_operator                   = "GreaterThanOrEqualToThreshold"
12:20:42        + evaluate_low_sample_count_percentiles = (known after apply)
12:20:42        + evaluation_periods                    = 3
12:20:42        + id                                    = (known after apply)
12:20:42        + ok_actions                            = [
12:20:42            + "arn:aws:sns:us-east-1:929468956630:cloudwatch-alarm-funnel",
12:20:42          ]
12:20:42        + tags_all                              = (known after apply)
12:20:42        + threshold                             = 20
12:20:42        + treat_missing_data                    = "notBreaching"
12:20:42  
12:20:42        + metric_query {
12:20:42            + id          = "errors"
12:20:42            + return_data = false
12:20:42  
12:20:42            + metric {
12:20:42                + dimensions  = {
12:20:42                    + "FunctionName" = "bef-presigned-url-candidate"
12:20:42                  }
12:20:42                + metric_name = "Errors"
12:20:42                + namespace   = "AWS/Lambda"
12:20:42                + period      = 60
12:20:42                + stat        = "Sum"
12:20:42                + unit        = "Count"
12:20:42              }
12:20:42          }
12:20:42        + metric_query {
12:20:42            + id          = "invocations"
12:20:42            + return_data = false
12:20:42  
12:20:42            + metric {
12:20:42                + dimensions  = {
12:20:42                    + "FunctionName" = "bef-presigned-url-candidate"
12:20:42                  }
12:20:42                + metric_name = "Invocations"
12:20:42                + namespace   = "AWS/Lambda"
12:20:42                + period      = 60
12:20:42                + stat        = "Sum"
12:20:42                + unit        = "Count"
12:20:42              }
12:20:42          }
12:20:42        + metric_query {
12:20:42            + expression  = "(errors/invocations)*100"
12:20:42            + id          = "errorrate"
12:20:42            + label       = "Error Rate"
12:20:42            + return_data = true
12:20:42          }
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-lambda.aws_cloudwatch_metric_alarm.critical_throttles[0] will be created
12:20:42    + resource "aws_cloudwatch_metric_alarm" "critical_throttles" {
12:20:42        + actions_enabled                       = true
12:20:42        + alarm_actions                         = [
12:20:42            + "arn:aws:sns:us-east-1:929468956630:cloudwatch-alarm-funnel",
12:20:42          ]
12:20:42        + alarm_description                     = "dev-candidate|CRITICAL|bef-File-Storage-candidate|Lambda Throttles > 30"
12:20:42        + alarm_name                            = "bef-presigned-url-candidate-CRITICAL-Lambda-Throttles"
12:20:42        + arn                                   = (known after apply)
12:20:42        + comparison_operator                   = "GreaterThanOrEqualToThreshold"
12:20:42        + dimensions                            = {
12:20:42            + "FunctionName" = "bef-presigned-url-candidate"
12:20:42          }
12:20:42        + evaluate_low_sample_count_percentiles = (known after apply)
12:20:42        + evaluation_periods                    = 3
12:20:42        + id                                    = (known after apply)
12:20:42        + metric_name                           = "Throttles"
12:20:42        + namespace                             = "AWS/Lambda"
12:20:42        + ok_actions                            = [
12:20:42            + "arn:aws:sns:us-east-1:929468956630:cloudwatch-alarm-funnel",
12:20:42          ]
12:20:42        + period                                = 60
12:20:42        + statistic                             = "Sum"
12:20:42        + tags_all                              = (known after apply)
12:20:42        + threshold                             = 30
12:20:42        + treat_missing_data                    = "notBreaching"
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-lambda.aws_cloudwatch_metric_alarm.info_error_rate[0] will be created
12:20:42    + resource "aws_cloudwatch_metric_alarm" "info_error_rate" {
12:20:42        + actions_enabled                       = true
12:20:42        + alarm_actions                         = [
12:20:42            + "arn:aws:sns:us-east-1:929468956630:cloudwatch-alarm-funnel",
12:20:42          ]
12:20:42        + alarm_description                     = "dev-candidate|INFO|bef-File-Storage-candidate|Lambda Error Rate > 10%"
12:20:42        + alarm_name                            = "bef-presigned-url-candidate-INFO-Lambda-Errors"
12:20:42        + arn                                   = (known after apply)
12:20:42        + comparison_operator                   = "GreaterThanOrEqualToThreshold"
12:20:42        + evaluate_low_sample_count_percentiles = (known after apply)
12:20:42        + evaluation_periods                    = 3
12:20:42        + id                                    = (known after apply)
12:20:42        + ok_actions                            = [
12:20:42            + "arn:aws:sns:us-east-1:929468956630:cloudwatch-alarm-funnel",
12:20:42          ]
12:20:42        + tags_all                              = (known after apply)
12:20:42        + threshold                             = 10
12:20:42        + treat_missing_data                    = "notBreaching"
12:20:42  
12:20:42        + metric_query {
12:20:42            + id          = "errors"
12:20:42            + return_data = false
12:20:42  
12:20:42            + metric {
12:20:42                + dimensions  = {
12:20:42                    + "FunctionName" = "bef-presigned-url-candidate"
12:20:42                  }
12:20:42                + metric_name = "Errors"
12:20:42                + namespace   = "AWS/Lambda"
12:20:42                + period      = 60
12:20:42                + stat        = "Sum"
12:20:42                + unit        = "Count"
12:20:42              }
12:20:42          }
12:20:42        + metric_query {
12:20:42            + id          = "invocations"
12:20:42            + return_data = false
12:20:42  
12:20:42            + metric {
12:20:42                + dimensions  = {
12:20:42                    + "FunctionName" = "bef-presigned-url-candidate"
12:20:42                  }
12:20:42                + metric_name = "Invocations"
12:20:42                + namespace   = "AWS/Lambda"
12:20:42                + period      = 60
12:20:42                + stat        = "Sum"
12:20:42                + unit        = "Count"
12:20:42              }
12:20:42          }
12:20:42        + metric_query {
12:20:42            + expression  = "(errors/invocations)*100"
12:20:42            + id          = "errorrate"
12:20:42            + label       = "Error Rate"
12:20:42            + return_data = true
12:20:42          }
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-lambda.aws_cloudwatch_metric_alarm.info_throttles[0] will be created
12:20:42    + resource "aws_cloudwatch_metric_alarm" "info_throttles" {
12:20:42        + actions_enabled                       = true
12:20:42        + alarm_actions                         = [
12:20:42            + "arn:aws:sns:us-east-1:929468956630:cloudwatch-alarm-funnel",
12:20:42          ]
12:20:42        + alarm_description                     = "dev-candidate|INFO|bef-File-Storage-candidate|Lambda Throttles > 10"
12:20:42        + alarm_name                            = "bef-presigned-url-candidate-INFO-Lambda-Throttles"
12:20:42        + arn                                   = (known after apply)
12:20:42        + comparison_operator                   = "GreaterThanOrEqualToThreshold"
12:20:42        + dimensions                            = {
12:20:42            + "FunctionName" = "bef-presigned-url-candidate"
12:20:42          }
12:20:42        + evaluate_low_sample_count_percentiles = (known after apply)
12:20:42        + evaluation_periods                    = 3
12:20:42        + id                                    = (known after apply)
12:20:42        + metric_name                           = "Throttles"
12:20:42        + namespace                             = "AWS/Lambda"
12:20:42        + ok_actions                            = [
12:20:42            + "arn:aws:sns:us-east-1:929468956630:cloudwatch-alarm-funnel",
12:20:42          ]
12:20:42        + period                                = 60
12:20:42        + statistic                             = "Sum"
12:20:42        + tags_all                              = (known after apply)
12:20:42        + threshold                             = 10
12:20:42        + treat_missing_data                    = "notBreaching"
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-lambda.aws_cloudwatch_metric_alarm.warn_error_rate[0] will be created
12:20:42    + resource "aws_cloudwatch_metric_alarm" "warn_error_rate" {
12:20:42        + actions_enabled                       = true
12:20:42        + alarm_actions                         = [
12:20:42            + "arn:aws:sns:us-east-1:929468956630:cloudwatch-alarm-funnel",
12:20:42          ]
12:20:42        + alarm_description                     = "dev-candidate|WARN|bef-File-Storage-candidate|Lambda Error Rate > 15%"
12:20:42        + alarm_name                            = "bef-presigned-url-candidate-WARN-Lambda-Errors"
12:20:42        + arn                                   = (known after apply)
12:20:42        + comparison_operator                   = "GreaterThanOrEqualToThreshold"
12:20:42        + evaluate_low_sample_count_percentiles = (known after apply)
12:20:42        + evaluation_periods                    = 3
12:20:42        + id                                    = (known after apply)
12:20:42        + ok_actions                            = [
12:20:42            + "arn:aws:sns:us-east-1:929468956630:cloudwatch-alarm-funnel",
12:20:42          ]
12:20:42        + tags_all                              = (known after apply)
12:20:42        + threshold                             = 15
12:20:42        + treat_missing_data                    = "notBreaching"
12:20:42  
12:20:42        + metric_query {
12:20:42            + id          = "errors"
12:20:42            + return_data = false
12:20:42  
12:20:42            + metric {
12:20:42                + dimensions  = {
12:20:42                    + "FunctionName" = "bef-presigned-url-candidate"
12:20:42                  }
12:20:42                + metric_name = "Errors"
12:20:42                + namespace   = "AWS/Lambda"
12:20:42                + period      = 60
12:20:42                + stat        = "Sum"
12:20:42                + unit        = "Count"
12:20:42              }
12:20:42          }
12:20:42        + metric_query {
12:20:42            + id          = "invocations"
12:20:42            + return_data = false
12:20:42  
12:20:42            + metric {
12:20:42                + dimensions  = {
12:20:42                    + "FunctionName" = "bef-presigned-url-candidate"
12:20:42                  }
12:20:42                + metric_name = "Invocations"
12:20:42                + namespace   = "AWS/Lambda"
12:20:42                + period      = 60
12:20:42                + stat        = "Sum"
12:20:42                + unit        = "Count"
12:20:42              }
12:20:42          }
12:20:42        + metric_query {
12:20:42            + expression  = "(errors/invocations)*100"
12:20:42            + id          = "errorrate"
12:20:42            + label       = "Error Rate"
12:20:42            + return_data = true
12:20:42          }
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-lambda.aws_cloudwatch_metric_alarm.warn_throttles[0] will be created
12:20:42    + resource "aws_cloudwatch_metric_alarm" "warn_throttles" {
12:20:42        + actions_enabled                       = true
12:20:42        + alarm_actions                         = [
12:20:42            + "arn:aws:sns:us-east-1:929468956630:cloudwatch-alarm-funnel",
12:20:42          ]
12:20:42        + alarm_description                     = "dev-candidate|WARN|bef-File-Storage-candidate|Lambda Throttles > 20"
12:20:42        + alarm_name                            = "bef-presigned-url-candidate-WARN-Lambda-Throttles"
12:20:42        + arn                                   = (known after apply)
12:20:42        + comparison_operator                   = "GreaterThanOrEqualToThreshold"
12:20:42        + dimensions                            = {
12:20:42            + "FunctionName" = "bef-presigned-url-candidate"
12:20:42          }
12:20:42        + evaluate_low_sample_count_percentiles = (known after apply)
12:20:42        + evaluation_periods                    = 3
12:20:42        + id                                    = (known after apply)
12:20:42        + metric_name                           = "Throttles"
12:20:42        + namespace                             = "AWS/Lambda"
12:20:42        + ok_actions                            = [
12:20:42            + "arn:aws:sns:us-east-1:929468956630:cloudwatch-alarm-funnel",
12:20:42          ]
12:20:42        + period                                = 60
12:20:42        + statistic                             = "Sum"
12:20:42        + tags_all                              = (known after apply)
12:20:42        + threshold                             = 20
12:20:42        + treat_missing_data                    = "notBreaching"
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-lambda.aws_lambda_function.lambda will be created
12:20:42    + resource "aws_lambda_function" "lambda" {
12:20:42        + architectures                  = [
12:20:42            + "x86_64",
12:20:42          ]
12:20:42        + arn                            = (known after apply)
12:20:42        + code_sha256                    = (known after apply)
12:20:42        + description                    = "A Generic Lambda Function"
12:20:42        + filename                       = "./deployment-archive/presigned-url.zip"
12:20:42        + function_name                  = "bef-presigned-url-candidate"
12:20:42        + handler                        = "presigned-url.presigned_url"
12:20:42        + id                             = (known after apply)
12:20:42        + invoke_arn                     = (known after apply)
12:20:42        + last_modified                  = (known after apply)
12:20:42        + memory_size                    = 256
12:20:42        + package_type                   = "Zip"
12:20:42        + publish                        = false
12:20:42        + qualified_arn                  = (known after apply)
12:20:42        + qualified_invoke_arn           = (known after apply)
12:20:42        + reserved_concurrent_executions = -1
12:20:42        + role                           = "arn:aws:iam::364685145795:role/Enterprise/BEFStorageSolution"
12:20:42        + runtime                        = "python3.11"
12:20:42        + signing_job_arn                = (known after apply)
12:20:42        + signing_profile_version_arn    = (known after apply)
12:20:42        + skip_destroy                   = false
12:20:42        + source_code_hash               = "rCLYP0LCkbJWYYiHY9Qx9ulK/U1DdprmiOCeK3WTvhc="
12:20:42        + source_code_size               = (known after apply)
12:20:42        + tags                           = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "BackupOwner"      = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Environment"      = "dev-candidate"
12:20:42            + "Purpose"          = "BEF-Artifacts Storage Solution"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42          }
12:20:42        + tags_all                       = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "BackupOwner"      = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Environment"      = "dev-candidate"
12:20:42            + "Purpose"          = "BEF-Artifacts Storage Solution"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42          }
12:20:42        + timeout                        = 30
12:20:42        + version                        = (known after apply)
12:20:42  
12:20:42        + environment {
12:20:42            + variables = {
12:20:42                + "log_level" = "DEBUG"
12:20:42              }
12:20:42          }
12:20:42  
12:20:42        + vpc_config {
12:20:42            + ipv6_allowed_for_dual_stack = false
12:20:42            + security_group_ids          = (known after apply)
12:20:42            + subnet_ids                  = (known after apply)
12:20:42            + vpc_id                      = (known after apply)
12:20:42          }
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.data.aws_iam_policy_document.flow_log_key_resource_policy will be read during apply
12:20:42    # (config refers to values not yet known)
12:20:42   <= data "aws_iam_policy_document" "flow_log_key_resource_policy" {
12:20:42        + id            = (known after apply)
12:20:42        + json          = (known after apply)
12:20:42        + minified_json = (known after apply)
12:20:42  
12:20:42        + statement {
12:20:42            + actions   = [
12:20:42                + "*",
12:20:42              ]
12:20:42            + effect    = "Allow"
12:20:42            + resources = [
12:20:42                + "*",
12:20:42              ]
12:20:42  
12:20:42            + principals {
12:20:42                + identifiers = [
12:20:42                    + "arn:aws:iam::364685145795:root",
12:20:42                  ]
12:20:42                + type        = "AWS"
12:20:42              }
12:20:42          }
12:20:42        + statement {
12:20:42            + actions   = [
12:20:42                + "kms:Decrypt*",
12:20:42                + "kms:Describe*",
12:20:42                + "kms:Encrypt*",
12:20:42                + "kms:GenerateDataKey*",
12:20:42                + "kms:ReEncrypt*",
12:20:42              ]
12:20:42            + effect    = "Allow"
12:20:42            + resources = [
12:20:42                + "*",
12:20:42              ]
12:20:42  
12:20:42            + condition {
12:20:42                + test     = "ArnLike"
12:20:42                + values   = [
12:20:42                    + (known after apply),
12:20:42                  ]
12:20:42                + variable = "kms:EncryptionContext:aws:logs:arn"
12:20:42              }
12:20:42  
12:20:42            + principals {
12:20:42                + identifiers = [
12:20:42                    + "logs.us-east-2.amazonaws.com",
12:20:42                  ]
12:20:42                + type        = "Service"
12:20:42              }
12:20:42          }
12:20:42        + statement {
12:20:42            + actions   = [
12:20:42                + "kms:Decrypt*",
12:20:42                + "kms:Describe*",
12:20:42                + "kms:Encrypt*",
12:20:42                + "kms:GenerateDataKey*",
12:20:42                + "kms:ReEncrypt*",
12:20:42              ]
12:20:42            + effect    = "Allow"
12:20:42            + resources = [
12:20:42                + "*",
12:20:42              ]
12:20:42  
12:20:42            + condition {
12:20:42                + test     = "ArnLike"
12:20:42                + values   = [
12:20:42                    + (known after apply),
12:20:42                  ]
12:20:42                + variable = "kms:EncryptionContext:aws:logs:arn"
12:20:42              }
12:20:42  
12:20:42            + principals {
12:20:42                # At least one attribute in this block is (or was) sensitive,
12:20:42                # so its contents will not be displayed.
12:20:42              }
12:20:42          }
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.data.aws_iam_policy_document.flow_log_key_role_policy will be read during apply
12:20:42    # (config refers to values not yet known)
12:20:42   <= data "aws_iam_policy_document" "flow_log_key_role_policy" {
12:20:42        + id            = (known after apply)
12:20:42        + json          = (known after apply)
12:20:42        + minified_json = (known after apply)
12:20:42  
12:20:42        + statement {
12:20:42            + actions   = [
12:20:42                + "kms:Decrypt*",
12:20:42                + "kms:Describe*",
12:20:42                + "kms:Encrypt*",
12:20:42                + "kms:GenerateDataKey*",
12:20:42                + "kms:ReEncrypt*",
12:20:42              ]
12:20:42            + effect    = "Allow"
12:20:42            + resources = [
12:20:42                + (known after apply),
12:20:42              ]
12:20:42          }
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_cloudwatch_log_group.flow_log_group will be created
12:20:42    + resource "aws_cloudwatch_log_group" "flow_log_group" {
12:20:42        + arn               = (known after apply)
12:20:42        + id                = (known after apply)
12:20:42        + kms_key_id        = (known after apply)
12:20:42        + log_group_class   = (known after apply)
12:20:42        + name              = (known after apply)
12:20:42        + name_prefix       = (known after apply)
12:20:42        + retention_in_days = 14
12:20:42        + skip_destroy      = false
12:20:42        + tags              = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42            + "Version"          = "0.7.0"
12:20:42          }
12:20:42        + tags_all          = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42            + "Version"          = "0.7.0"
12:20:42          }
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_cloudwatch_log_subscription_filter.splunk will be created
12:20:42    + resource "aws_cloudwatch_log_subscription_filter" "splunk" {
12:20:42        + destination_arn = (sensitive value)
12:20:42        + distribution    = "Random"
12:20:42        + id              = (known after apply)
12:20:42        + log_group_name  = (known after apply)
12:20:42        + name            = "centralized-logging-stream"
12:20:42        + role_arn        = (sensitive value)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_default_network_acl.default will be created
12:20:42    + resource "aws_default_network_acl" "default" {
12:20:42        + arn                    = (known after apply)
12:20:42        + default_network_acl_id = (known after apply)
12:20:42        + id                     = (known after apply)
12:20:42        + owner_id               = (known after apply)
12:20:42        + subnet_ids             = (known after apply)
12:20:42        + tags                   = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Name"             = "presigned-url-candidate-golden-vpc-default-nacl"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42            + "Version"          = "0.7.0"
12:20:42          }
12:20:42        + tags_all               = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Name"             = "presigned-url-candidate-golden-vpc-default-nacl"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42            + "Version"          = "0.7.0"
12:20:42          }
12:20:42        + vpc_id                 = (known after apply)
12:20:42  
12:20:42        + egress {
12:20:42            + action          = "allow"
12:20:42            + from_port       = 0
12:20:42            + ipv6_cidr_block = "::/0"
12:20:42            + protocol        = "-1"
12:20:42            + rule_no         = 200
12:20:42            + to_port         = 0
12:20:42          }
12:20:42        + egress {
12:20:42            + action     = "allow"
12:20:42            + cidr_block = "0.0.0.0/0"
12:20:42            + from_port  = 0
12:20:42            + protocol   = "-1"
12:20:42            + rule_no    = 100
12:20:42            + to_port    = 0
12:20:42          }
12:20:42  
12:20:42        + ingress {
12:20:42            + action          = "allow"
12:20:42            + from_port       = 0
12:20:42            + ipv6_cidr_block = "::/0"
12:20:42            + protocol        = "-1"
12:20:42            + rule_no         = 200
12:20:42            + to_port         = 0
12:20:42          }
12:20:42        + ingress {
12:20:42            + action     = "allow"
12:20:42            + cidr_block = "0.0.0.0/0"
12:20:42            + from_port  = 0
12:20:42            + protocol   = "-1"
12:20:42            + rule_no    = 100
12:20:42            + to_port    = 0
12:20:42          }
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_default_route_table.default will be created
12:20:42    + resource "aws_default_route_table" "default" {
12:20:42        + arn                    = (known after apply)
12:20:42        + default_route_table_id = (known after apply)
12:20:42        + id                     = (known after apply)
12:20:42        + owner_id               = (known after apply)
12:20:42        + route                  = (known after apply)
12:20:42        + tags                   = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Name"             = "presigned-url-candidate-golden-vpc-default-route-table"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42            + "Version"          = "0.7.0"
12:20:42          }
12:20:42        + tags_all               = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Name"             = "presigned-url-candidate-golden-vpc-default-route-table"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42            + "Version"          = "0.7.0"
12:20:42          }
12:20:42        + vpc_id                 = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_default_security_group.default will be created
12:20:42    + resource "aws_default_security_group" "default" {
12:20:42        + arn                    = (known after apply)
12:20:42        + description            = (known after apply)
12:20:42        + egress                 = [
12:20:42            + {
12:20:42                + cidr_blocks      = [
12:20:42                    + "127.0.0.1/32",
12:20:42                  ]
12:20:42                + description      = "only egress to localhost"
12:20:42                + from_port        = 0
12:20:42                + ipv6_cidr_blocks = []
12:20:42                + prefix_list_ids  = []
12:20:42                + protocol         = "-1"
12:20:42                + security_groups  = []
12:20:42                + self             = false
12:20:42                + to_port          = 0
12:20:42              },
12:20:42          ]
12:20:42        + id                     = (known after apply)
12:20:42        + ingress                = (known after apply)
12:20:42        + name                   = (known after apply)
12:20:42        + name_prefix            = (known after apply)
12:20:42        + owner_id               = (known after apply)
12:20:42        + revoke_rules_on_delete = false
12:20:42        + tags                   = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Name"             = "presigned-url-candidate-golden-vpc-default-sg"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42            + "Version"          = "0.7.0"
12:20:42          }
12:20:42        + tags_all               = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Name"             = "presigned-url-candidate-golden-vpc-default-sg"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42            + "Version"          = "0.7.0"
12:20:42          }
12:20:42        + vpc_id                 = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_ec2_transit_gateway_vpc_attachment.tgw_attachment[0] will be created
12:20:42    + resource "aws_ec2_transit_gateway_vpc_attachment" "tgw_attachment" {
12:20:42        + appliance_mode_support                          = "disable"
12:20:42        + arn                                             = (known after apply)
12:20:42        + dns_support                                     = "enable"
12:20:42        + id                                              = (known after apply)
12:20:42        + ipv6_support                                    = "disable"
12:20:42        + security_group_referencing_support              = (known after apply)
12:20:42        + subnet_ids                                      = (known after apply)
12:20:42        + tags                                            = (known after apply)
12:20:42        + tags_all                                        = (known after apply)
12:20:42        + transit_gateway_default_route_table_association = (known after apply)
12:20:42        + transit_gateway_default_route_table_propagation = (known after apply)
12:20:42        + transit_gateway_id                              = (sensitive value)
12:20:42        + vpc_id                                          = (known after apply)
12:20:42        + vpc_owner_id                                    = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_flow_log.flow_log will be created
12:20:42    + resource "aws_flow_log" "flow_log" {
12:20:42        + arn                      = (known after apply)
12:20:42        + iam_role_arn             = (known after apply)
12:20:42        + id                       = (known after apply)
12:20:42        + log_destination          = (known after apply)
12:20:42        + log_destination_type     = "cloud-watch-logs"
12:20:42        + log_format               = (known after apply)
12:20:42        + log_group_name           = (known after apply)
12:20:42        + max_aggregation_interval = 600
12:20:42        + tags_all                 = (known after apply)
12:20:42        + traffic_type             = "ALL"
12:20:42        + vpc_id                   = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_iam_role.flow_logs_role must be replaced
12:20:42  -/+ resource "aws_iam_role" "flow_logs_role" {
12:20:42        ~ arn                   = "arn:aws:iam::364685145795:role/golden-vpc-flow-logs-vpc-002df5c36bd80a47e" -> (known after apply)
12:20:42        ~ create_date           = "2024-09-04T18:59:17Z" -> (known after apply)
12:20:42        ~ id                    = "golden-vpc-flow-logs-vpc-002df5c36bd80a47e" -> (known after apply)
12:20:42        ~ name                  = "golden-vpc-flow-logs-vpc-002df5c36bd80a47e" # forces replacement -> (known after apply) # forces replacement
12:20:42        + name_prefix           = (known after apply)
12:20:42          tags                  = {
12:20:42              "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42              "CostCenter"       = "60031096"
12:20:42              "SecurityReviewID" = "NOT APPLICABLE"
12:20:42              "ServiceNowAS"     = "AS050854"
12:20:42              "ServiceNowBA"     = "BA14783"
12:20:42              "Version"          = "0.7.0"
12:20:42          }
12:20:42        ~ unique_id             = "AROAVJ2HNW3BTKI3OWDAG" -> (known after apply)
12:20:42          # (6 unchanged attributes hidden)
12:20:42  
12:20:42        - inline_policy {
12:20:42            - name   = "CentralizedLoggingDestinationRequirements" -> null
12:20:42            - policy = jsonencode(
12:20:42                  {
12:20:42                    - Statement = [
12:20:42                        - {
12:20:42                            - Action   = [
12:20:42                                - "logs:PutSubscriptionFilter",
12:20:42                                - "logs:DescribeSubscriptionFilters",
12:20:42                                - "logs:DeleteSubscriptionFilter",
12:20:42                              ]
12:20:42                            - Effect   = "Allow"
12:20:42                            - Resource = "arn:aws:logs:us-east-1:746770431074:destination:CentralizedLogging-v2-DestinationForOrg"
12:20:42                          },
12:20:42                      ]
12:20:42                    - Version   = "2012-10-17"
12:20:42                  }
12:20:42              ) -> null
12:20:42          }
12:20:42        - inline_policy {
12:20:42            - name   = "LogGroupEncryptionKey" -> null
12:20:42            - policy = jsonencode(
12:20:42                  {
12:20:42                    - Statement = [
12:20:42                        - {
12:20:42                            - Action   = [
12:20:42                                - "kms:ReEncrypt*",
12:20:42                                - "kms:GenerateDataKey*",
12:20:42                                - "kms:Encrypt*",
12:20:42                                - "kms:Describe*",
12:20:42                                - "kms:Decrypt*",
12:20:42                              ]
12:20:42                            - Effect   = "Allow"
12:20:42                            - Resource = "arn:aws:kms:us-east-1:364685145795:key/8b3854e5-9124-4f38-83da-bdeda6625c72"
12:20:42                          },
12:20:42                      ]
12:20:42                    - Version   = "2012-10-17"
12:20:42                  }
12:20:42              ) -> null
12:20:42          }
12:20:42        + inline_policy {
12:20:42            + name   = "CentralizedLoggingDestinationRequirements"
12:20:42            + policy = jsonencode(
12:20:42                  {
12:20:42                    + Statement = [
12:20:42                        + {
12:20:42                            + Action   = [
12:20:42                                + "logs:PutSubscriptionFilter",
12:20:42                                + "logs:DescribeSubscriptionFilters",
12:20:42                                + "logs:DeleteSubscriptionFilter",
12:20:42                              ]
12:20:42                            + Effect   = "Allow"
12:20:42                            + Resource = "arn:aws:logs:us-east-2:746770431074:destination:CentralizedLogging-v2-DestinationForOrg"
12:20:42                          },
12:20:42                      ]
12:20:42                    + Version   = "2012-10-17"
12:20:42                  }
12:20:42              )
12:20:42          }
12:20:42        + inline_policy {
12:20:42            + name   = "LogGroupEncryptionKey"
12:20:42            + policy = (known after apply)
12:20:42          }
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_kms_alias.flow_log_key_alias will be created
12:20:42    + resource "aws_kms_alias" "flow_log_key_alias" {
12:20:42        + arn            = (known after apply)
12:20:42        + id             = (known after apply)
12:20:42        + name           = "alias/presigned-url-candidate-flow-logs-key"
12:20:42        + name_prefix    = (known after apply)
12:20:42        + target_key_arn = (known after apply)
12:20:42        + target_key_id  = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_kms_key.flow_log_key will be created
12:20:42    + resource "aws_kms_key" "flow_log_key" {
12:20:42        + arn                                = (known after apply)
12:20:42        + bypass_policy_lockout_safety_check = false
12:20:42        + customer_master_key_spec           = "SYMMETRIC_DEFAULT"
12:20:42        + description                        = (known after apply)
12:20:42        + enable_key_rotation                = true
12:20:42        + id                                 = (known after apply)
12:20:42        + is_enabled                         = true
12:20:42        + key_id                             = (known after apply)
12:20:42        + key_usage                          = "ENCRYPT_DECRYPT"
12:20:42        + multi_region                       = (known after apply)
12:20:42        + policy                             = (known after apply)
12:20:42        + rotation_period_in_days            = (known after apply)
12:20:42        + tags                               = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42            + "Version"          = "0.7.0"
12:20:42          }
12:20:42        + tags_all                           = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42            + "Version"          = "0.7.0"
12:20:42          }
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_kms_key_policy.flow_log_key_policy will be created
12:20:42    + resource "aws_kms_key_policy" "flow_log_key_policy" {
12:20:42        + bypass_policy_lockout_safety_check = false
12:20:42        + id                                 = (known after apply)
12:20:42        + key_id                             = (known after apply)
12:20:42        + policy                             = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_route53_resolver_query_log_config_association.query_log_config_association[0] will be created
12:20:42    + resource "aws_route53_resolver_query_log_config_association" "query_log_config_association" {
12:20:42        + id                           = (known after apply)
12:20:42        + resolver_query_log_config_id = (sensitive value)
12:20:42        + resource_id                  = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["AccountsRootCorp"] will be created
12:20:42    + resource "aws_route53_resolver_rule_association" "rule_associations" {
12:20:42        + id               = (known after apply)
12:20:42        + name             = "AccountsRootCorp"
12:20:42        + resolver_rule_id = (sensitive value)
12:20:42        + vpc_id           = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["AwsCignacloudCom"] will be created
12:20:42    + resource "aws_route53_resolver_rule_association" "rule_associations" {
12:20:42        + id               = (known after apply)
12:20:42        + name             = "AwsCignacloudCom"
12:20:42        + resolver_rule_id = (sensitive value)
12:20:42        + vpc_id           = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["AwsEvernorthcloudCom"] will be created
12:20:42    + resource "aws_route53_resolver_rule_association" "rule_associations" {
12:20:42        + id               = (known after apply)
12:20:42        + name             = "AwsEvernorthcloudCom"
12:20:42        + resolver_rule_id = (sensitive value)
12:20:42        + vpc_id           = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["CignaCom"] will be created
12:20:42    + resource "aws_route53_resolver_rule_association" "rule_associations" {
12:20:42        + id               = (known after apply)
12:20:42        + name             = "CignaCom"
12:20:42        + resolver_rule_id = (sensitive value)
12:20:42        + vpc_id           = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["CignaEnvoy"] will be created
12:20:42    + resource "aws_route53_resolver_rule_association" "rule_associations" {
12:20:42        + id               = (known after apply)
12:20:42        + name             = "CignaEnvoy"
12:20:42        + resolver_rule_id = (sensitive value)
12:20:42        + vpc_id           = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["CignatestCom"] will be created
12:20:42    + resource "aws_route53_resolver_rule_association" "rule_associations" {
12:20:42        + id               = (known after apply)
12:20:42        + name             = "CignatestCom"
12:20:42        + resolver_rule_id = (sensitive value)
12:20:42        + vpc_id           = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["ExpressScriptsCom"] will be created
12:20:42    + resource "aws_route53_resolver_rule_association" "rule_associations" {
12:20:42        + id               = (known after apply)
12:20:42        + name             = "ExpressScriptsCom"
12:20:42        + resolver_rule_id = (sensitive value)
12:20:42        + vpc_id           = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["ExpressScriptsIo"] will be created
12:20:42    + resource "aws_route53_resolver_rule_association" "rule_associations" {
12:20:42        + id               = (known after apply)
12:20:42        + name             = "ExpressScriptsIo"
12:20:42        + resolver_rule_id = (sensitive value)
12:20:42        + vpc_id           = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["MedcoCom"] will be created
12:20:42    + resource "aws_route53_resolver_rule_association" "rule_associations" {
12:20:42        + id               = (known after apply)
12:20:42        + name             = "MedcoCom"
12:20:42        + resolver_rule_id = (sensitive value)
12:20:42        + vpc_id           = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["OpenshiftCignacloudCom"] will be created
12:20:42    + resource "aws_route53_resolver_rule_association" "rule_associations" {
12:20:42        + id               = (known after apply)
12:20:42        + name             = "OpenshiftCignacloudCom"
12:20:42        + resolver_rule_id = (sensitive value)
12:20:42        + vpc_id           = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["OpenshiftEvernorthcloudCom"] will be created
12:20:42    + resource "aws_route53_resolver_rule_association" "rule_associations" {
12:20:42        + id               = (known after apply)
12:20:42        + name             = "OpenshiftEvernorthcloudCom"
12:20:42        + resolver_rule_id = (sensitive value)
12:20:42        + vpc_id           = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["PrivatelinkSnowflakecomputingCom"] will be created
12:20:42    + resource "aws_route53_resolver_rule_association" "rule_associations" {
12:20:42        + id               = (known after apply)
12:20:42        + name             = "PrivatelinkSnowflakecomputingCom"
12:20:42        + resolver_rule_id = (sensitive value)
12:20:42        + vpc_id           = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["PrivatelinkSnowflakecomputingComRegionless"] will be created
12:20:42    + resource "aws_route53_resolver_rule_association" "rule_associations" {
12:20:42        + id               = (known after apply)
12:20:42        + name             = "PrivatelinkSnowflakecomputingComRegionless"
12:20:42        + resolver_rule_id = (sensitive value)
12:20:42        + vpc_id           = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["SilverCom"] will be created
12:20:42    + resource "aws_route53_resolver_rule_association" "rule_associations" {
12:20:42        + id               = (known after apply)
12:20:42        + name             = "SilverCom"
12:20:42        + resolver_rule_id = (sensitive value)
12:20:42        + vpc_id           = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_route53_resolver_rule_association.rule_associations["UsEast1ConfluentCloud"] will be created
12:20:42    + resource "aws_route53_resolver_rule_association" "rule_associations" {
12:20:42        + id               = (known after apply)
12:20:42        + name             = "UsEast1ConfluentCloud"
12:20:42        + resolver_rule_id = (sensitive value)
12:20:42        + vpc_id           = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_route53_zone_association.default_associations["Cigna"] must be replaced
12:20:42  -/+ resource "aws_route53_zone_association" "default_associations" {
12:20:42        ~ id             = "Z0503924248Z5Y01NGHT0:vpc-002df5c36bd80a47e:us-east-1" -> (known after apply)
12:20:42        ~ owning_account = "364685145795" -> (known after apply)
12:20:42        ~ vpc_id         = "vpc-002df5c36bd80a47e" # forces replacement -> (known after apply) # forces replacement
12:20:42        ~ vpc_region     = "us-east-1" -> (known after apply)
12:20:42          # (1 unchanged attribute hidden)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_route53_zone_association.default_associations["Evernorthcloud"] must be replaced
12:20:42  -/+ resource "aws_route53_zone_association" "default_associations" {
12:20:42        ~ id             = "Z09861373L6XGPTENPZK7:vpc-002df5c36bd80a47e:us-east-1" -> (known after apply)
12:20:42        ~ owning_account = "364685145795" -> (known after apply)
12:20:42        ~ vpc_id         = "vpc-002df5c36bd80a47e" # forces replacement -> (known after apply) # forces replacement
12:20:42        ~ vpc_region     = "us-east-1" -> (known after apply)
12:20:42          # (1 unchanged attribute hidden)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_route53_zone_association.route53_as_a_service_associations["bef-frontend-ui-dev.aws.evernorthcloud.com"] will be destroyed
12:20:42    # (because key ["bef-frontend-ui-dev.aws.evernorthcloud.com"] is not in for_each map)
12:20:42    - resource "aws_route53_zone_association" "route53_as_a_service_associations" {
12:20:42        - id             = "Z0593329306J91VLAME1S:vpc-002df5c36bd80a47e:us-east-1" -> null
12:20:42        - owning_account = "364685145795" -> null
12:20:42        - vpc_id         = "vpc-002df5c36bd80a47e" -> null
12:20:42        - vpc_region     = "us-east-1" -> null
12:20:42        - zone_id        = (sensitive value) -> null
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_security_group.interface_endpoints[0] will be created
12:20:42    + resource "aws_security_group" "interface_endpoints" {
12:20:42        + arn                    = (known after apply)
12:20:42        + description            = "Allow all traffic within Cigna"
12:20:42        + egress                 = (known after apply)
12:20:42        + id                     = (known after apply)
12:20:42        + ingress                = [
12:20:42            + {
12:20:42                + cidr_blocks      = [
12:20:42                    + "10.0.0.0/8",
12:20:42                    + "100.126.0.0/15",
12:20:42                  ]
12:20:42                + description      = "Allow HTTPS inbound traffic from on-prem, HS, and non-routable address space"
12:20:42                + from_port        = 443
12:20:42                + ipv6_cidr_blocks = []
12:20:42                + prefix_list_ids  = [
12:20:42                    + "pl-0ee74e3f81925a429",
12:20:42                  ]
12:20:42                + protocol         = "tcp"
12:20:42                + security_groups  = []
12:20:42                + self             = false
12:20:42                + to_port          = 443
12:20:42              },
12:20:42          ]
12:20:42        + name                   = (known after apply)
12:20:42        + name_prefix            = (known after apply)
12:20:42        + owner_id               = (known after apply)
12:20:42        + revoke_rules_on_delete = false
12:20:42        + tags                   = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Name"             = "presigned-url-candidate-golden-vpc-interface-endpoints-sg"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42            + "Version"          = "0.7.0"
12:20:42          }
12:20:42        + tags_all               = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Name"             = "presigned-url-candidate-golden-vpc-interface-endpoints-sg"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42            + "Version"          = "0.7.0"
12:20:42          }
12:20:42        + vpc_id                 = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_vpc.vpc will be created
12:20:42    + resource "aws_vpc" "vpc" {
12:20:42        + arn                                  = (known after apply)
12:20:42        + assign_generated_ipv6_cidr_block     = false
12:20:42        + cidr_block                           = "10.190.251.0/27"
12:20:42        + default_network_acl_id               = (known after apply)
12:20:42        + default_route_table_id               = (known after apply)
12:20:42        + default_security_group_id            = (known after apply)
12:20:42        + dhcp_options_id                      = (known after apply)
12:20:42        + enable_dns_hostnames                 = true
12:20:42        + enable_dns_support                   = true
12:20:42        + enable_network_address_usage_metrics = true
12:20:42        + id                                   = (known after apply)
12:20:42        + instance_tenancy                     = "default"
12:20:42        + ipv6_association_id                  = (known after apply)
12:20:42        + ipv6_cidr_block                      = (known after apply)
12:20:42        + ipv6_cidr_block_network_border_group = (known after apply)
12:20:42        + main_route_table_id                  = (known after apply)
12:20:42        + owner_id                             = (known after apply)
12:20:42        + tags                                 = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Name"             = "presigned-url-candidate-golden-vpc"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42            + "Version"          = "0.7.0"
12:20:42          }
12:20:42        + tags_all                             = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Name"             = "presigned-url-candidate-golden-vpc"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42            + "Version"          = "0.7.0"
12:20:42          }
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_vpc_dhcp_options.dhcp_options[0] will be created
12:20:42    + resource "aws_vpc_dhcp_options" "dhcp_options" {
12:20:42        + arn                 = (known after apply)
12:20:42        + domain_name         = "ec2.internal"
12:20:42        + domain_name_servers = [
12:20:42            + "AmazonProvidedDNS",
12:20:42          ]
12:20:42        + id                  = (known after apply)
12:20:42        + netbios_node_type   = "2"
12:20:42        + ntp_servers         = [
12:20:42            + "169.254.169.123",
12:20:42          ]
12:20:42        + owner_id            = (known after apply)
12:20:42        + tags                = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Name"             = "presigned-url-candidate-golden-vpc-dhcp-options"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42            + "Version"          = "0.7.0"
12:20:42          }
12:20:42        + tags_all            = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Name"             = "presigned-url-candidate-golden-vpc-dhcp-options"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42            + "Version"          = "0.7.0"
12:20:42          }
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_vpc_dhcp_options_association.dhcp_association[0] will be created
12:20:42    + resource "aws_vpc_dhcp_options_association" "dhcp_association" {
12:20:42        + dhcp_options_id = (known after apply)
12:20:42        + id              = (known after apply)
12:20:42        + vpc_id          = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_vpc_endpoint.gateways["s3"] will be created
12:20:42    + resource "aws_vpc_endpoint" "gateways" {
12:20:42        + arn                   = (known after apply)
12:20:42        + cidr_blocks           = (known after apply)
12:20:42        + dns_entry             = (known after apply)
12:20:42        + id                    = (known after apply)
12:20:42        + ip_address_type       = (known after apply)
12:20:42        + network_interface_ids = (known after apply)
12:20:42        + owner_id              = (known after apply)
12:20:42        + policy                = (known after apply)
12:20:42        + prefix_list_id        = (known after apply)
12:20:42        + private_dns_enabled   = (known after apply)
12:20:42        + requester_managed     = (known after apply)
12:20:42        + route_table_ids       = (known after apply)
12:20:42        + security_group_ids    = (known after apply)
12:20:42        + service_name          = "com.amazonaws.us-east-2.s3"
12:20:42        + service_region        = (known after apply)
12:20:42        + state                 = (known after apply)
12:20:42        + subnet_ids            = (known after apply)
12:20:42        + tags                  = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Name"             = "presigned-url-candidate-s3-gateway-endpoint"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42            + "Version"          = "0.7.0"
12:20:42          }
12:20:42        + tags_all              = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Name"             = "presigned-url-candidate-s3-gateway-endpoint"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42            + "Version"          = "0.7.0"
12:20:42          }
12:20:42        + vpc_endpoint_type     = "Gateway"
12:20:42        + vpc_id                = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_vpc_endpoint.interfaces_routable["secretsmanager"] will be created
12:20:42    + resource "aws_vpc_endpoint" "interfaces_routable" {
12:20:42        + arn                   = (known after apply)
12:20:42        + cidr_blocks           = (known after apply)
12:20:42        + dns_entry             = (known after apply)
12:20:42        + id                    = (known after apply)
12:20:42        + ip_address_type       = (known after apply)
12:20:42        + network_interface_ids = (known after apply)
12:20:42        + owner_id              = (known after apply)
12:20:42        + policy                = (known after apply)
12:20:42        + prefix_list_id        = (known after apply)
12:20:42        + private_dns_enabled   = true
12:20:42        + requester_managed     = (known after apply)
12:20:42        + route_table_ids       = (known after apply)
12:20:42        + security_group_ids    = (known after apply)
12:20:42        + service_name          = "com.amazonaws.us-east-2.secretsmanager"
12:20:42        + service_region        = (known after apply)
12:20:42        + state                 = (known after apply)
12:20:42        + subnet_ids            = (known after apply)
12:20:42        + tags                  = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Name"             = "presigned-url-candidate-secretsmanager-interface-endpoint-routable"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42            + "Version"          = "0.7.0"
12:20:42          }
12:20:42        + tags_all              = {
12:20:42            + "AssetOwner"       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42            + "CostCenter"       = "60031096"
12:20:42            + "Name"             = "presigned-url-candidate-secretsmanager-interface-endpoint-routable"
12:20:42            + "SecurityReviewID" = "NOT APPLICABLE"
12:20:42            + "ServiceNowAS"     = "AS050854"
12:20:42            + "ServiceNowBA"     = "BA14783"
12:20:42            + "Version"          = "0.7.0"
12:20:42          }
12:20:42        + vpc_endpoint_type     = "Interface"
12:20:42        + vpc_id                = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_vpc_endpoint_policy.gateway_policies["s3"] will be created
12:20:42    + resource "aws_vpc_endpoint_policy" "gateway_policies" {
12:20:42        + id              = (known after apply)
12:20:42        + policy          = jsonencode(
12:20:42              {
12:20:42                + Statement = [
12:20:42                    + {
12:20:42                        + Action    = "s3:GetObject"
12:20:42                        + Effect    = "Allow"
12:20:42                        + Principal = "*"
12:20:42                        + Resource  = [
12:20:42                            + "arn:aws:s3:::rds-downloads/*",
12:20:42                            + "arn:aws:s3:::rds-downloads.s3.dualstack.us-east-2.amazonaws.com/*",
12:20:42                            + "arn:aws:s3:::prod-us-east-2-starport-layer-bucket/*",
12:20:42                            + "arn:aws:s3:::prod-us-east-2-starport-layer-bucket.s3.dualstack.us-east-2.amazonaws.com/*",
12:20:42                            + "arn:aws:s3:::inspector2-oval-prod-us-east-2/*",
12:20:42                            + "arn:aws:s3:::inspector2-oval-prod-us-east-2.s3.dualstack.us-east-2.amazonaws.com/*",
12:20:42                            + "arn:aws:s3:::ec2-downloads-windows/*",
12:20:42                            + "arn:aws:s3:::ec2-downloads-windows.s3.dualstack.us-east-2.amazonaws.com/*",
12:20:42                            + "arn:aws:s3:::aws-agent.us-east-2/*",
12:20:42                            + "arn:aws:s3:::aws-agent.us-east-2.s3.dualstack.us-east-2.amazonaws.com/*",
12:20:42                            + "arn:aws:s3:::amazonlinux.us-east-2.amazonaws.com/*",
12:20:42                            + "arn:aws:s3:::amazonlinux.us-east-2.amazonaws.com.s3.dualstack.us-east-2.amazonaws.com/*",
12:20:42                            + "arn:aws:s3:::amazonlinux-2-repos-us-east-2/*",
12:20:42                            + "arn:aws:s3:::amazonlinux-2-repos-us-east-2.s3.dualstack.us-east-2.amazonaws.com/*",
12:20:42                            + "arn:aws:s3:::amazoncloudwatch-agent/*",
12:20:42                            + "arn:aws:s3:::amazoncloudwatch-agent.s3.dualstack.us-east-2.amazonaws.com/*",
12:20:42                            + "arn:aws:s3:::amazoncloudwatch-agent-us-east-2/*",
12:20:42                            + "arn:aws:s3:::amazoncloudwatch-agent-us-east-2.s3.dualstack.us-east-2.amazonaws.com/*",
12:20:42                            + "arn:aws:s3:::amazon-ssm-us-east-2/*",
12:20:42                            + "arn:aws:s3:::amazon-ssm-us-east-2.s3.dualstack.us-east-2.amazonaws.com/*",
12:20:42                            + "arn:aws:s3:::al2023-repos-us-east-2-de612dc2/*",
12:20:42                            + "arn:aws:s3:::al2023-repos-us-east-2-de612dc2.s3.dualstack.us-east-2.amazonaws.com/*",
12:20:42                          ]
12:20:42                        + Sid       = "Allow AWS-managed S3 buckets for ECR layers and Amazon Linux repos"
12:20:42                      },
12:20:42                    + {
12:20:42                        + Action    = [
12:20:42                            + "s3:Put*",
12:20:42                            + "s3:Get*",
12:20:42                            + "s3:Delete*",
12:20:42                          ]
12:20:42                        + Condition = {
12:20:42                            + StringEquals = {
12:20:42                                + "aws:PrincipalOrgID" = "o-xl5jimff3q"
12:20:42                              }
12:20:42                          }
12:20:42                        + Effect    = "Allow"
12:20:42                        + Principal = {
12:20:42                            + AWS = "*"
12:20:42                          }
12:20:42                        + Resource  = "arn:aws:s3:::bef*/*"
12:20:42                        + Sid       = "Allow S3 access"
12:20:42                      },
12:20:42                    + {
12:20:42                        + Action    = "*"
12:20:42                        + Condition = {
12:20:42                            + StringEquals = {
12:20:42                                + "aws:PrincipalAccount" = "364685145795"
12:20:42                                + "aws:ResourceAccount"  = "364685145795"
12:20:42                              }
12:20:42                          }
12:20:42                        + Effect    = "Allow"
12:20:42                        + Principal = "*"
12:20:42                        + Resource  = "*"
12:20:42                        + Sid       = "Allow this account"
12:20:42                      },
12:20:42                  ]
12:20:42                + Version   = "2012-10-17"
12:20:42              }
12:20:42          )
12:20:42        + vpc_endpoint_id = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_vpc_endpoint_policy.interface_policies["secretsmanager"] will be created
12:20:42    + resource "aws_vpc_endpoint_policy" "interface_policies" {
12:20:42        + id              = (known after apply)
12:20:42        + policy          = jsonencode(
12:20:42              {
12:20:42                + Statement = [
12:20:42                    + {
12:20:42                        + Action    = "*"
12:20:42                        + Effect    = "Allow"
12:20:42                        + Principal = {
12:20:42                            + AWS = "arn:aws:iam::364685145795:root"
12:20:42                          }
12:20:42                        + Resource  = "*"
12:20:42                      },
12:20:42                  ]
12:20:42                + Version   = "2012-10-17"
12:20:42              }
12:20:42          )
12:20:42        + vpc_endpoint_id = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.aws_vpc_ipv4_cidr_block_association.secondaries_non_routable["100.126.1.0/27"] will be created
12:20:42    + resource "aws_vpc_ipv4_cidr_block_association" "secondaries_non_routable" {
12:20:42        + cidr_block = "100.126.1.0/27"
12:20:42        + id         = (known after apply)
12:20:42        + vpc_id     = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.module.subnets_non_routable["100.126.1.0/27"].data.aws_availability_zones.available_zones will be read during apply
12:20:42    # (depends on a resource or a module with changes pending)
12:20:42   <= data "aws_availability_zones" "available_zones" {
12:20:42        + group_names = (known after apply)
12:20:42        + id          = (known after apply)
12:20:42        + names       = (known after apply)
12:20:42        + zone_ids    = (known after apply)
12:20:42  
12:20:42        + filter {
12:20:42            + name   = "opt-in-status"
12:20:42            + values = [
12:20:42                + "opt-in-not-required",
12:20:42                + "opted-in",
12:20:42              ]
12:20:42          }
12:20:42        + filter {
12:20:42            + name   = "zone-type"
12:20:42            + values = [
12:20:42                + "availability-zone",
12:20:42              ]
12:20:42          }
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.module.subnets_non_routable["100.126.1.0/27"].data.aws_default_tags.provider_tags will be read during apply
12:20:42    # (depends on a resource or a module with changes pending)
12:20:42   <= data "aws_default_tags" "provider_tags" {
12:20:42        + id   = (known after apply)
12:20:42        + tags = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.module.subnets_non_routable["100.126.1.0/27"].aws_subnet.subnets[0] will be created
12:20:42    + resource "aws_subnet" "subnets" {
12:20:42        + arn                                            = (known after apply)
12:20:42        + assign_ipv6_address_on_creation                = false
12:20:42        + availability_zone                              = "us-east-2a"
12:20:42        + availability_zone_id                           = (known after apply)
12:20:42        + cidr_block                                     = "100.126.1.0/28"
12:20:42        + enable_dns64                                   = false
12:20:42        + enable_resource_name_dns_a_record_on_launch    = false
12:20:42        + enable_resource_name_dns_aaaa_record_on_launch = false
12:20:42        + id                                             = (known after apply)
12:20:42        + ipv6_cidr_block_association_id                 = (known after apply)
12:20:42        + ipv6_native                                    = false
12:20:42        + map_public_ip_on_launch                        = false
12:20:42        + owner_id                                       = (known after apply)
12:20:42        + private_dns_hostname_type_on_launch            = (known after apply)
12:20:42        + tags                                           = (known after apply)
12:20:42        + tags_all                                       = (known after apply)
12:20:42        + vpc_id                                         = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.module.subnets_non_routable["100.126.1.0/27"].aws_subnet.subnets[1] will be created
12:20:42    + resource "aws_subnet" "subnets" {
12:20:42        + arn                                            = (known after apply)
12:20:42        + assign_ipv6_address_on_creation                = false
12:20:42        + availability_zone                              = "us-east-2b"
12:20:42        + availability_zone_id                           = (known after apply)
12:20:42        + cidr_block                                     = "100.126.1.16/28"
12:20:42        + enable_dns64                                   = false
12:20:42        + enable_resource_name_dns_a_record_on_launch    = false
12:20:42        + enable_resource_name_dns_aaaa_record_on_launch = false
12:20:42        + id                                             = (known after apply)
12:20:42        + ipv6_cidr_block_association_id                 = (known after apply)
12:20:42        + ipv6_native                                    = false
12:20:42        + map_public_ip_on_launch                        = false
12:20:42        + owner_id                                       = (known after apply)
12:20:42        + private_dns_hostname_type_on_launch            = (known after apply)
12:20:42        + tags                                           = (known after apply)
12:20:42        + tags_all                                       = (known after apply)
12:20:42        + vpc_id                                         = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.module.subnets_routable["10.190.251.0/27"].data.aws_availability_zones.available_zones will be read during apply
12:20:42    # (depends on a resource or a module with changes pending)
12:20:42   <= data "aws_availability_zones" "available_zones" {
12:20:42        + group_names = (known after apply)
12:20:42        + id          = (known after apply)
12:20:42        + names       = (known after apply)
12:20:42        + zone_ids    = (known after apply)
12:20:42  
12:20:42        + filter {
12:20:42            + name   = "opt-in-status"
12:20:42            + values = [
12:20:42                + "opt-in-not-required",
12:20:42                + "opted-in",
12:20:42              ]
12:20:42          }
12:20:42        + filter {
12:20:42            + name   = "zone-type"
12:20:42            + values = [
12:20:42                + "availability-zone",
12:20:42              ]
12:20:42          }
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.module.subnets_routable["10.190.251.0/27"].data.aws_default_tags.provider_tags will be read during apply
12:20:42    # (depends on a resource or a module with changes pending)
12:20:42   <= data "aws_default_tags" "provider_tags" {
12:20:42        + id   = (known after apply)
12:20:42        + tags = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.module.subnets_routable["10.190.251.0/27"].aws_subnet.subnets[0] will be created
12:20:42    + resource "aws_subnet" "subnets" {
12:20:42        + arn                                            = (known after apply)
12:20:42        + assign_ipv6_address_on_creation                = false
12:20:42        + availability_zone                              = "us-east-2a"
12:20:42        + availability_zone_id                           = (known after apply)
12:20:42        + cidr_block                                     = "10.190.251.0/28"
12:20:42        + enable_dns64                                   = false
12:20:42        + enable_resource_name_dns_a_record_on_launch    = false
12:20:42        + enable_resource_name_dns_aaaa_record_on_launch = false
12:20:42        + id                                             = (known after apply)
12:20:42        + ipv6_cidr_block_association_id                 = (known after apply)
12:20:42        + ipv6_native                                    = false
12:20:42        + map_public_ip_on_launch                        = false
12:20:42        + owner_id                                       = (known after apply)
12:20:42        + private_dns_hostname_type_on_launch            = (known after apply)
12:20:42        + tags                                           = (known after apply)
12:20:42        + tags_all                                       = (known after apply)
12:20:42        + vpc_id                                         = (known after apply)
12:20:42      }
12:20:42  
12:20:42    # module.presigned-url-vpc.module.subnets_routable["10.190.251.0/27"].aws_subnet.subnets[1] will be created
12:20:42    + resource "aws_subnet" "subnets" {
12:20:42        + arn                                            = (known after apply)
12:20:42        + assign_ipv6_address_on_creation                = false
12:20:42        + availability_zone                              = "us-east-2b"
12:20:42        + availability_zone_id                           = (known after apply)
12:20:42        + cidr_block                                     = "10.190.251.16/28"
12:20:42        + enable_dns64                                   = false
12:20:42        + enable_resource_name_dns_a_record_on_launch    = false
12:20:42        + enable_resource_name_dns_aaaa_record_on_launch = false
12:20:42        + id                                             = (known after apply)
12:20:42        + ipv6_cidr_block_association_id                 = (known after apply)
12:20:42        + ipv6_native                                    = false
12:20:42        + map_public_ip_on_launch                        = false
12:20:42        + owner_id                                       = (known after apply)
12:20:42        + private_dns_hostname_type_on_launch            = (known after apply)
12:20:42        + tags                                           = (known after apply)
12:20:42        + tags_all                                       = (known after apply)
12:20:42        + vpc_id                                         = (known after apply)
12:20:42      }
12:20:42  
12:20:42  Plan: 57 to add, 0 to change, 4 to destroy.
12:20:42  
12:20:42  Changes to Outputs:
12:20:42    ~ endpoint   = {
12:20:42        ~ arn                        = "arn:aws:ec2:us-east-1:364685145795:vpc-endpoint/vpce-0c28889149368a830" -> (known after apply)
12:20:42        ~ cidr_blocks                = [
12:20:42            - "16.15.176.0/20",
12:20:42            - "16.182.0.0/16",
12:20:42            - "18.34.0.0/19",
12:20:42            - "52.216.0.0/15",
12:20:42            - "54.231.0.0/16",
12:20:42            - "3.5.0.0/19",
12:20:42            - "18.34.232.0/21",
12:20:42            - "16.15.192.0/18",
12:20:42          ] -> (known after apply)
12:20:42        ~ dns_entry                  = [] -> (known after apply)
12:20:42        ~ dns_options                = [] -> (known after apply)
12:20:42        ~ id                         = "vpce-0c28889149368a830" -> (known after apply)
12:20:42        ~ ip_address_type            = "" -> (known after apply)
12:20:42        ~ network_interface_ids      = [] -> (known after apply)
12:20:42        ~ owner_id                   = "364685145795" -> (known after apply)
12:20:42        ~ policy                     = jsonencode(
12:20:42              {
12:20:42                - Statement = [
12:20:42                    - {
12:20:42                        - Action    = "s3:GetObject"
12:20:42                        - Effect    = "Allow"
12:20:42                        - Principal = "*"
12:20:42                        - Resource  = [
12:20:42                            - "arn:aws:s3:::rds-downloads/*",
12:20:42                            - "arn:aws:s3:::rds-downloads.s3.dualstack.us-east-1.amazonaws.com/*",
12:20:42                            - "arn:aws:s3:::prod-us-east-1-starport-layer-bucket/*",
12:20:42                            - "arn:aws:s3:::prod-us-east-1-starport-layer-bucket.s3.dualstack.us-east-1.amazonaws.com/*",
12:20:42                            - "arn:aws:s3:::inspector2-oval-prod-us-east-1/*",
12:20:42                            - "arn:aws:s3:::inspector2-oval-prod-us-east-1.s3.dualstack.us-east-1.amazonaws.com/*",
12:20:42                            - "arn:aws:s3:::ec2-downloads-windows/*",
12:20:42                            - "arn:aws:s3:::ec2-downloads-windows.s3.dualstack.us-east-1.amazonaws.com/*",
12:20:42                            - "arn:aws:s3:::aws-agent.us-east-1/*",
12:20:42                            - "arn:aws:s3:::aws-agent.us-east-1.s3.dualstack.us-east-1.amazonaws.com/*",
12:20:42                            - "arn:aws:s3:::amazonlinux.us-east-1.amazonaws.com/*",
12:20:42                            - "arn:aws:s3:::amazonlinux.us-east-1.amazonaws.com.s3.dualstack.us-east-1.amazonaws.com/*",
12:20:42                            - "arn:aws:s3:::amazonlinux-2-repos-us-east-1/*",
12:20:42                            - "arn:aws:s3:::amazonlinux-2-repos-us-east-1.s3.dualstack.us-east-1.amazonaws.com/*",
12:20:42                            - "arn:aws:s3:::amazoncloudwatch-agent/*",
12:20:42                            - "arn:aws:s3:::amazoncloudwatch-agent.s3.dualstack.us-east-1.amazonaws.com/*",
12:20:42                            - "arn:aws:s3:::amazoncloudwatch-agent-us-east-1/*",
12:20:42                            - "arn:aws:s3:::amazoncloudwatch-agent-us-east-1.s3.dualstack.us-east-1.amazonaws.com/*",
12:20:42                            - "arn:aws:s3:::amazon-ssm-us-east-1/*",
12:20:42                            - "arn:aws:s3:::amazon-ssm-us-east-1.s3.dualstack.us-east-1.amazonaws.com/*",
12:20:42                            - "arn:aws:s3:::al2023-repos-us-east-1-de612dc2/*",
12:20:42                            - "arn:aws:s3:::al2023-repos-us-east-1-de612dc2.s3.dualstack.us-east-1.amazonaws.com/*",
12:20:42                          ]
12:20:42                        - Sid       = "Allow AWS-managed S3 buckets for ECR layers and Amazon Linux repos"
12:20:42                      },
12:20:42                    - {
12:20:42                        - Action    = [
12:20:42                            - "s3:Put*",
12:20:42                            - "s3:Get*",
12:20:42                            - "s3:Delete*",
12:20:42                          ]
12:20:42                        - Condition = {
12:20:42                            - StringEquals = {
12:20:42                                - "aws:PrincipalOrgID" = "o-xl5jimff3q"
12:20:42                              }
12:20:42                          }
12:20:42                        - Effect    = "Allow"
12:20:42                        - Principal = {
12:20:42                            - AWS = "*"
12:20:42                          }
12:20:42                        - Resource  = "arn:aws:s3:::bef*/*"
12:20:42                        - Sid       = "Allow S3 access"
12:20:42                      },
12:20:42                    - {
12:20:42                        - Action    = "*"
12:20:42                        - Condition = {
12:20:42                            - StringEquals = {
12:20:42                                - "aws:PrincipalAccount" = "364685145795"
12:20:42                                - "aws:ResourceAccount"  = "364685145795"
12:20:42                              }
12:20:42                          }
12:20:42                        - Effect    = "Allow"
12:20:42                        - Principal = "*"
12:20:42                        - Resource  = "*"
12:20:42                        - Sid       = "Allow this account"
12:20:42                      },
12:20:42                  ]
12:20:42                - Version   = "2012-10-17"
12:20:42              }
12:20:42          ) -> (known after apply)
12:20:42        ~ prefix_list_id             = "pl-63a5400a" -> (known after apply)
12:20:42        ~ private_dns_enabled        = false -> (known after apply)
12:20:42        ~ requester_managed          = false -> (known after apply)
12:20:42        + resource_configuration_arn = null
12:20:42        ~ route_table_ids            = [
12:20:42            - "rtb-07dbd6f19f0b7db7a",
12:20:42          ] -> (known after apply)
12:20:42        ~ security_group_ids         = [] -> (known after apply)
12:20:42        ~ service_name               = "com.amazonaws.us-east-1.s3" -> "com.amazonaws.us-east-2.s3"
12:20:42        + service_network_arn        = null
12:20:42        ~ service_region             = "" -> (known after apply)
12:20:42        ~ state                      = "available" -> (known after apply)
12:20:42        ~ subnet_configuration       = [] -> (known after apply)
12:20:42        ~ subnet_ids                 = [] -> (known after apply)
12:20:42          tags                       = {
12:20:42              AssetOwner       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42              CostCenter       = "60031096"
12:20:42              Name             = "presigned-url-candidate-s3-gateway-endpoint"
12:20:42              SecurityReviewID = "NOT APPLICABLE"
12:20:42              ServiceNowAS     = "AS050854"
12:20:42              ServiceNowBA     = "BA14783"
12:20:42              Version          = "0.7.0"
12:20:42          }
12:20:42        ~ vpc_id                     = "vpc-002df5c36bd80a47e" -> (known after apply)
12:20:42          # (4 unchanged attributes hidden)
12:20:42      }
12:20:42    + golden-vpc = {
12:20:42        + id                                   = (known after apply)
12:20:42        + subnets_non_routable_by_az           = {
12:20:42            + us-east-2a = [
12:20:42                + {
12:20:42                    + arn                                            = (known after apply)
12:20:42                    + assign_ipv6_address_on_creation                = false
12:20:42                    + availability_zone                              = "us-east-2a"
12:20:42                    + availability_zone_id                           = (known after apply)
12:20:42                    + cidr_block                                     = "100.126.1.0/28"
12:20:42                    + customer_owned_ipv4_pool                       = null
12:20:42                    + enable_dns64                                   = false
12:20:42                    + enable_lni_at_device_index                     = null
12:20:42                    + enable_resource_name_dns_a_record_on_launch    = false
12:20:42                    + enable_resource_name_dns_aaaa_record_on_launch = false
12:20:42                    + id                                             = (known after apply)
12:20:42                    + ipv6_cidr_block                                = null
12:20:42                    + ipv6_cidr_block_association_id                 = (known after apply)
12:20:42                    + ipv6_native                                    = false
12:20:42                    + map_customer_owned_ip_on_launch                = null
12:20:42                    + map_public_ip_on_launch                        = false
12:20:42                    + outpost_arn                                    = null
12:20:42                    + owner_id                                       = (known after apply)
12:20:42                    + private_dns_hostname_type_on_launch            = (known after apply)
12:20:42                    + tags                                           = (known after apply)
12:20:42                    + tags_all                                       = (known after apply)
12:20:42                    + timeouts                                       = null
12:20:42                    + vpc_id                                         = (known after apply)
12:20:42                  },
12:20:42              ]
12:20:42            + us-east-2b = [
12:20:42                + {
12:20:42                    + arn                                            = (known after apply)
12:20:42                    + assign_ipv6_address_on_creation                = false
12:20:42                    + availability_zone                              = "us-east-2b"
12:20:42                    + availability_zone_id                           = (known after apply)
12:20:42                    + cidr_block                                     = "100.126.1.16/28"
12:20:42                    + customer_owned_ipv4_pool                       = null
12:20:42                    + enable_dns64                                   = false
12:20:42                    + enable_lni_at_device_index                     = null
12:20:42                    + enable_resource_name_dns_a_record_on_launch    = false
12:20:42                    + enable_resource_name_dns_aaaa_record_on_launch = false
12:20:42                    + id                                             = (known after apply)
12:20:42                    + ipv6_cidr_block                                = null
12:20:42                    + ipv6_cidr_block_association_id                 = (known after apply)
12:20:42                    + ipv6_native                                    = false
12:20:42                    + map_customer_owned_ip_on_launch                = null
12:20:42                    + map_public_ip_on_launch                        = false
12:20:42                    + outpost_arn                                    = null
12:20:42                    + owner_id                                       = (known after apply)
12:20:42                    + private_dns_hostname_type_on_launch            = (known after apply)
12:20:42                    + tags                                           = (known after apply)
12:20:42                    + tags_all                                       = (known after apply)
12:20:42                    + timeouts                                       = null
12:20:42                    + vpc_id                                         = (known after apply)
12:20:42                  },
12:20:42              ]
12:20:42          }
12:20:42        + subnets_routable_by_az               = {
12:20:42            + us-east-2a = [
12:20:42                + {
12:20:42                    + arn                                            = (known after apply)
12:20:42                    + assign_ipv6_address_on_creation                = false
12:20:42                    + availability_zone                              = "us-east-2a"
12:20:42                    + availability_zone_id                           = (known after apply)
12:20:42                    + cidr_block                                     = "10.190.251.0/28"
12:20:42                    + customer_owned_ipv4_pool                       = null
12:20:42                    + enable_dns64                                   = false
12:20:42                    + enable_lni_at_device_index                     = null
12:20:42                    + enable_resource_name_dns_a_record_on_launch    = false
12:20:42                    + enable_resource_name_dns_aaaa_record_on_launch = false
12:20:42                    + id                                             = (known after apply)
12:20:42                    + ipv6_cidr_block                                = null
12:20:42                    + ipv6_cidr_block_association_id                 = (known after apply)
12:20:42                    + ipv6_native                                    = false
12:20:42                    + map_customer_owned_ip_on_launch                = null
12:20:42                    + map_public_ip_on_launch                        = false
12:20:42                    + outpost_arn                                    = null
12:20:42                    + owner_id                                       = (known after apply)
12:20:42                    + private_dns_hostname_type_on_launch            = (known after apply)
12:20:42                    + tags                                           = (known after apply)
12:20:42                    + tags_all                                       = (known after apply)
12:20:42                    + timeouts                                       = null
12:20:42                    + vpc_id                                         = (known after apply)
12:20:42                  },
12:20:42              ]
12:20:42            + us-east-2b = [
12:20:42                + {
12:20:42                    + arn                                            = (known after apply)
12:20:42                    + assign_ipv6_address_on_creation                = false
12:20:42                    + availability_zone                              = "us-east-2b"
12:20:42                    + availability_zone_id                           = (known after apply)
12:20:42                    + cidr_block                                     = "10.190.251.16/28"
12:20:42                    + customer_owned_ipv4_pool                       = null
12:20:42                    + enable_dns64                                   = false
12:20:42                    + enable_lni_at_device_index                     = null
12:20:42                    + enable_resource_name_dns_a_record_on_launch    = false
12:20:42                    + enable_resource_name_dns_aaaa_record_on_launch = false
12:20:42                    + id                                             = (known after apply)
12:20:42                    + ipv6_cidr_block                                = null
12:20:42                    + ipv6_cidr_block_association_id                 = (known after apply)
12:20:42                    + ipv6_native                                    = false
12:20:42                    + map_customer_owned_ip_on_launch                = null
12:20:42                    + map_public_ip_on_launch                        = false
12:20:42                    + outpost_arn                                    = null
12:20:42                    + owner_id                                       = (known after apply)
12:20:42                    + private_dns_hostname_type_on_launch            = (known after apply)
12:20:42                    + tags                                           = (known after apply)
12:20:42                    + tags_all                                       = (known after apply)
12:20:42                    + timeouts                                       = null
12:20:42                    + vpc_id                                         = (known after apply)
12:20:42                  },
12:20:42              ]
12:20:42          }
12:20:42        + transit_gateway_attachment_id        = (known after apply)
12:20:42        + version                              = "0.7.0"
12:20:42        + vpc_endpoints_gateway                = [
12:20:42            + {
12:20:42                + s3 = {
12:20:42                    + arn                        = (known after apply)
12:20:42                    + auto_accept                = null
12:20:42                    + cidr_blocks                = (known after apply)
12:20:42                    + dns_entry                  = (known after apply)
12:20:42                    + dns_options                = (known after apply)
12:20:42                    + id                         = (known after apply)
12:20:42                    + ip_address_type            = (known after apply)
12:20:42                    + network_interface_ids      = (known after apply)
12:20:42                    + owner_id                   = (known after apply)
12:20:42                    + policy                     = (known after apply)
12:20:42                    + prefix_list_id             = (known after apply)
12:20:42                    + private_dns_enabled        = (known after apply)
12:20:42                    + requester_managed          = (known after apply)
12:20:42                    + resource_configuration_arn = null
12:20:42                    + route_table_ids            = (known after apply)
12:20:42                    + security_group_ids         = (known after apply)
12:20:42                    + service_name               = "com.amazonaws.us-east-2.s3"
12:20:42                    + service_network_arn        = null
12:20:42                    + service_region             = (known after apply)
12:20:42                    + state                      = (known after apply)
12:20:42                    + subnet_configuration       = (known after apply)
12:20:42                    + subnet_ids                 = (known after apply)
12:20:42                    + tags                       = {
12:20:42                        + AssetOwner       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42                        + CostCenter       = "60031096"
12:20:42                        + Name             = "presigned-url-candidate-s3-gateway-endpoint"
12:20:42                        + SecurityReviewID = "NOT APPLICABLE"
12:20:42                        + ServiceNowAS     = "AS050854"
12:20:42                        + ServiceNowBA     = "BA14783"
12:20:42                        + Version          = "0.7.0"
12:20:42                      }
12:20:42                    + tags_all                   = {
12:20:42                        + AssetOwner       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42                        + CostCenter       = "60031096"
12:20:42                        + Name             = "presigned-url-candidate-s3-gateway-endpoint"
12:20:42                        + SecurityReviewID = "NOT APPLICABLE"
12:20:42                        + ServiceNowAS     = "AS050854"
12:20:42                        + ServiceNowBA     = "BA14783"
12:20:42                        + Version          = "0.7.0"
12:20:42                      }
12:20:42                    + timeouts                   = null
12:20:42                    + vpc_endpoint_type          = "Gateway"
12:20:42                    + vpc_id                     = (known after apply)
12:20:42                  }
12:20:42              },
12:20:42          ]
12:20:42        + vpc_endpoints_interface_non_routable = []
12:20:42        + vpc_endpoints_interface_routable     = [
12:20:42            + {
12:20:42                + secretsmanager = {
12:20:42                    + arn                        = (known after apply)
12:20:42                    + auto_accept                = null
12:20:42                    + cidr_blocks                = (known after apply)
12:20:42                    + dns_entry                  = (known after apply)
12:20:42                    + dns_options                = (known after apply)
12:20:42                    + id                         = (known after apply)
12:20:42                    + ip_address_type            = (known after apply)
12:20:42                    + network_interface_ids      = (known after apply)
12:20:42                    + owner_id                   = (known after apply)
12:20:42                    + policy                     = (known after apply)
12:20:42                    + prefix_list_id             = (known after apply)
12:20:42                    + private_dns_enabled        = true
12:20:42                    + requester_managed          = (known after apply)
12:20:42                    + resource_configuration_arn = null
12:20:42                    + route_table_ids            = (known after apply)
12:20:42                    + security_group_ids         = (known after apply)
12:20:42                    + service_name               = "com.amazonaws.us-east-2.secretsmanager"
12:20:42                    + service_network_arn        = null
12:20:42                    + service_region             = (known after apply)
12:20:42                    + state                      = (known after apply)
12:20:42                    + subnet_configuration       = (known after apply)
12:20:42                    + subnet_ids                 = (known after apply)
12:20:42                    + tags                       = {
12:20:42                        + AssetOwner       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42                        + CostCenter       = "60031096"
12:20:42                        + Name             = "presigned-url-candidate-secretsmanager-interface-endpoint-routable"
12:20:42                        + SecurityReviewID = "NOT APPLICABLE"
12:20:42                        + ServiceNowAS     = "AS050854"
12:20:42                        + ServiceNowBA     = "BA14783"
12:20:42                        + Version          = "0.7.0"
12:20:42                      }
12:20:42                    + tags_all                   = {
12:20:42                        + AssetOwner       = "BEF_DEVELOPMENT@express-scripts.com"
12:20:42                        + CostCenter       = "60031096"
12:20:42                        + Name             = "presigned-url-candidate-secretsmanager-interface-endpoint-routable"
12:20:42                        + SecurityReviewID = "NOT APPLICABLE"
12:20:42                        + ServiceNowAS     = "AS050854"
12:20:42                        + ServiceNowBA     = "BA14783"
12:20:42                        + Version          = "0.7.0"
12:20:42                      }
12:20:42                    + timeouts                   = null
12:20:42                    + vpc_endpoint_type          = "Interface"
12:20:42                    + vpc_id                     = (known after apply)
12:20:42                  }
12:20:42              },
12:20:42          ]
12:20:42      }
12:20:42  
12:20:42  Warning: Failed to decode resource from state
12:20:42  
12:20:42  Error decoding
12:20:42  "module.bef-storage-s3.aws_s3_bucket_lifecycle_configuration.s3_bucket_lifecycle_this[0]"
12:20:42  from prior state: a number is required
12:20:42  
12:20:42  Warning: Argument is deprecated
12:20:42  
12:20:42    with module.presigned-url-vpc.aws_iam_role.flow_logs_role,
12:20:42    on .terraform/modules/presigned-url-vpc/iam.tf line 3, in resource "aws_iam_role" "flow_logs_role":
12:20:42     3:   managed_policy_arns = ["arn:aws:iam::aws:policy/CloudWatchAgentServerPolicy"]
12:20:42  
12:20:42  The managed_policy_arns argument is deprecated. Use the
12:20:42  aws_iam_role_policy_attachment resource instead. If Terraform should
12:20:42  exclusively manage all managed policy attachments (the current behavior of
12:20:42  this argument), use the aws_iam_role_policy_attachments_exclusive resource as
12:20:42  well.
12:20:42  
12:20:42  (and one more similar warning elsewhere)
12:20:42  
12:20:42  Error: Invalid value for variable
12:20:42  
12:20:42    on _bef-presigned-url-variables.tf line 170:
12:20:42   170: variable "bef-callback-lambda-function-name" {
12:20:42      ├────────────────
12:20:42      │ var.bef-callback-lambda-function-name is ""
12:20:42  
12:20:42  Lambda function name required.
12:20:42  
12:20:42  This was checked by the validation rule at
12:20:42  _bef-presigned-url-variables.tf:174,3-13.
12:20:42  
12:20:42  Error: listing Lambda Layer Versions (bef-requests_layer): empty result
12:20:42  
12:20:42    with data.aws_lambda_layer_version.request_layer,
12:20:42    on _datasource.tf line 30, in data "aws_lambda_layer_version" "request_layer":
12:20:42    30: data "aws_lambda_layer_version" "request_layer" {
12:20:42  
12:20:42  
12:20:42  Error: only alphanumeric characters and /_+=.@- special characters are allowed in "name"
12:20:42  
12:20:42    with aws_secretsmanager_secret.intent_consumer,
12:20:42    on bef-presigned-url-secrets-manager.tf line 9, in resource "aws_secretsmanager_secret" "intent_consumer":
12:20:42     9:   name          = var.intent_consumer_secret_name
12:20:42  
12:20:42  
12:20:42  Error: reading S3 Bucket (bef-storage-candidate-364685145795): operation error S3: HeadBucket, https response error StatusCode: 301, RequestID: 52AKBN9QQKCD0HJ3, HostID: 4r8aemBY4DZUHG6d4SvvDappcAk9bYsTy7JedhMrLiJE5lwBDi8Yvf1RpOu7ooNRXsa1W2AphZ4ikYs+PJ3xVA==, api error MovedPermanently: Moved Permanently
12:20:42  
12:20:42    with module.bef-storage-s3.aws_s3_bucket.this,
12:20:42    on .terraform/modules/bef-storage-s3/s3.tf line 1, in resource "aws_s3_bucket" "this":
12:20:42     1: resource "aws_s3_bucket" "this" {
12:20:42  
12:20:42  
12:20:42  terraform plan failed
12:20:42  moduleName: cnp-deploy-terraform-aws Errors: terraform plan failed
12:20:42  
12:20:42  WARNING: apt does not have a stable CLI interface. Use with caution in scripts.
12:20:42  
12:20:42  Package: cnp-util-core
12:20:42  Version: 1.0.2-dev-ov2
12:20:42  Status: install ok installed
12:20:42  Priority: optional
12:20:42  Maintainer: Evernorth Software Engineering Excellence
12:20:42  Installed-Size: unknown
12:20:42  Depends: jq
12:20:42  Download-Size: unknown
12:20:42  APT-Manual-Installed: no
12:20:42  APT-Sources: /var/lib/dpkg/status
12:20:42  Description: Scripts and utilities for use with your cnp modules
12:20:42  
[Pipeline] }
[Pipeline] // dir
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // configFileProvider
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] }
[Pipeline] // container
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // container
[Pipeline] }
12:20:42  
[Pipeline] // ansiColor
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] echo
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  |                                                                               Compliance                                                                               |
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  |             Article              |                                            Statement                                             |              Status              |
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  |         CICD          |                              Pipeline does not implement a Deployment phase... Continuing                              |        SUCCESS        |
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  |                                                                                                                                                                        |
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  |                                                                                Pipeline                                                                                |
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  |                         Phase                         |                         State                         |                      Environment                       |
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  |               Module(common: null dev)                |                        Success                        |                          dev                           |
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  |               Module(quality: scan dev)               |                        Success                        |                          dev                           |
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  |              Linting([approvalrequest])               |                        Success                        |                       Undefined                        |
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  |                Module(terraform: plan)                |                        Failure                        |                       Undefined                        |
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  |                                                                                                                                                                        |
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  |                                                                      script returned exit code 1                                                                       |
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  |                                      Please see https://github.sys.cigna.com/cigna/enterprise-pipeline-framework for phase types.                                      |
12:20:42  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------
12:20:42  
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // dir
[Pipeline] }
[Pipeline] // node
[Pipeline] }
[Pipeline] // podTemplate
[Pipeline] }
[Pipeline] // timestamps
[Pipeline] echo
Using GitHubSCM provider for name: EPF, state: failure, phase: Status Check, as: null
[Pipeline] withCredentials
Masking supported pattern matches of $EPF_GITHUB_ACCESS_TOKEN
[Pipeline] {
[Pipeline] echo
Posting Commit Status...
[Pipeline] httpRequest
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] echo
Build Failed
[Pipeline] echo
{"scm":{"repo":"https://git.express-scripts.com/ExpressScripts/aws-terraform-hs-bef-intentapi.git","gitCommit":"d922f5b418481a9d4e821ed925ae2bf8e24db872"},"orchestrator":{"jobName":"orchestrators-folders/pbbef/Non-Production/TERRAFORMS/aws-terraform-hs-bef-intentapi/feature-PBBEF-1571","buildNumber":"8","branchName":"feature-PBBEF-1571","node":null,"timeInPipeline":"3 min 55 sec and counting"},"epf":{"stage":"End of Build","message":"Build Failed","userProvidedConfig":{"githubConnectionName":"github","githubCredentialsId":"GIT_TOKEN","commitStatusName":"","cloudName":"pbbef-openshift-devops1","adjudicatorEnvironment":"prod","phaseCache":false,"resourceStrategy":"","checkmarxEnabled":true,"sonarEnabled":true,"resourceScaleFactor":4,"stashIncludePattern":"","stashExcludePattern":""}},"exception":{"exceptionMessage":"script returned exit code 1","exceptionName":"hudson.AbortException","exceptionCause":{"name":null,"message":null},"exceptionStacktrace":[{"className":"org.jenkinsci.plugins.workflow.steps.durable_task.DurableTaskStep$Execution","nativeMethod":false,"lineNumber":668,"moduleVersion":null,"fileName":"DurableTaskStep.java","moduleName":null,"classLoaderName":"PluginClassLoader for workflow-durable-task-step","methodName":"handleExit"},{"className":"org.jenkinsci.plugins.workflow.steps.durable_task.DurableTaskStep$Execution","nativeMethod":false,"lineNumber":614,"moduleVersion":null,"fileName":"DurableTaskStep.java","moduleName":null,"classLoaderName":"PluginClassLoader for workflow-durable-task-step","methodName":"check"},{"className":"org.jenkinsci.plugins.workflow.steps.durable_task.DurableTaskStep$Execution","nativeMethod":false,"lineNumber":555,"moduleVersion":null,"fileName":"DurableTaskStep.java","moduleName":null,"classLoaderName":"PluginClassLoader for workflow-durable-task-step","methodName":"run"},{"className":"java.util.concurrent.Executors$RunnableAdapter","nativeMethod":false,"lineNumber":539,"moduleVersion":"17.0.12","fileName":"Executors.java","moduleName":"java.base","classLoaderName":null,"methodName":"call"},{"className":"java.util.concurrent.FutureTask","nativeMethod":false,"lineNumber":264,"moduleVersion":"17.0.12","fileName":"FutureTask.java","moduleName":"java.base","classLoaderName":null,"methodName":"run"},{"className":"java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask","nativeMethod":false,"lineNumber":304,"moduleVersion":"17.0.12","fileName":"ScheduledThreadPoolExecutor.java","moduleName":"java.base","classLoaderName":null,"methodName":"run"},{"className":"java.util.concurrent.ThreadPoolExecutor","nativeMethod":false,"lineNumber":1136,"moduleVersion":"17.0.12","fileName":"ThreadPoolExecutor.java","moduleName":"java.base","classLoaderName":null,"methodName":"runWorker"},{"className":"java.util.concurrent.ThreadPoolExecutor$Worker","nativeMethod":false,"lineNumber":635,"moduleVersion":"17.0.12","fileName":"ThreadPoolExecutor.java","moduleName":"java.base","classLoaderName":null,"methodName":"run"},{"className":"java.lang.Thread","nativeMethod":false,"lineNumber":840,"moduleVersion":"17.0.12","fileName":"Thread.java","moduleName":"java.base","classLoaderName":null,"methodName":"run"}]}}
[Pipeline] echo
To view more detailed logs, set FeatureFlags.debug to true
[Pipeline] parallel
[Pipeline] { (Branch: sendEmail)
[Pipeline] { (Branch: sendMattermost)
[Pipeline] { (Branch: sendTeams)
[Pipeline] { (Branch: sendWebex)
[Pipeline] }
[Pipeline] }
[Pipeline] }
[Pipeline] }
[Pipeline] // parallel
[Pipeline] echo
Follow the below link to see resource metrics for this pipeline:
https://o-grafana.apps.devops-1-prod.openshift.cignacloud.com/d/xnyVI_3Mk/namespace-container-metrics?orgId=1&refresh=10s&from=1739294207902&to=1739294443064&var-namespace=pbbef-openshift-devops1 
[Pipeline] error
[Pipeline] }
[Pipeline] // sendSplunkConsoleLog
[Pipeline] End of Pipeline
ERROR: script returned exit code 1

GitHub has been notified of this commit’s build result

Finished: FAILURE
